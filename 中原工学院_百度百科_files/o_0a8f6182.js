F.module("/static/lemma/ui/view/catalog/catalog.js",function(C,A){var _=C("tangram:base"),B=function(){var F,B,A,H;function D(D){if(!_.g("catalog-"+D)){return;}A=D;B=_.g("catalog-holder-2-"+A);F=_.g("catalog-holder-"+A);setTimeout(function(){var G=_.q("catalog-holder"+A,F);if(G&&G[0]){B.innerHTML=F.innerHTML;var D=B.offsetWidth;_.dom.addClass(B,"hideholder");_.dom.setStyle(B,"left","-1px");H=_.q("catalog-holder"+A,B)[0];_.g("catalog-"+A).style.width=D+"px";_.dom.setStyle(B,"width",D-75+"px");_.on(B,"click",function(D){var F=_.event.getTarget(D);if("A"==F.tagName){return;}C(H,A,B,F);_.on(document,"click",E);});}else{_.dom.addClass(F,"holder-nocalapse");}},50);}function G(A){_.dom.ready(function(){D(A);});}function E(C){var D=_.event.getTarget(C);if(_.dom.hasClass(D,"catalog-holder"+A)||_.dom.getAttr(D,"catalog")=="true"||_.dom.hasClass(D,"holder2")||_.dom.hasClass(D,"catalog-item")||_.dom.hasClass(D,"hold-catalog-li")||_.dom.hasClass(D,"hide")){return;}_.dom.addClass(B,"hideholder");_.q("catalog-holder"+A,B)[0].innerHTML="\u5c55\u5f00";_.dom.setAttr(H,"show-type","show");_.un(document,"click",E);}function C(C,A,B,D){if(_.dom.getAttr(C,"show-type")=="show"){_.dom.removeClass(B,"hideholder");_.q("catalog-holder"+A,B)[0].innerHTML="\u6536\u8d77";_.dom.setAttr(C,"show-type","hide");}else{if(_.dom.getAttr(C,"show-type")=="hide"&&_.dom.hasClass(D,"catalog-holder")){_.dom.addClass(B,"hideholder");_.q("catalog-holder"+A,B)[0].innerHTML="\u5c55\u5f00";_.dom.setAttr(C,"show-type","show");}}}return{init:G,start:D};};A=B;return A;},["tangram:base"]);F.module("/static/lemma/ui/view/share/share.js",function(C,A){var _=C("tangram:base");function B(){window.bds_config={snsKey:{tsina:"3417820038",tqq:"801199450"},bdComment:" "};_.g("bdshell_js").src="http://share.baidu.com/static/js/shell_v2.js?t="+new Date().getHours();}A.init=B;return A;},["tangram:base"]);F.module("/static/lemma/ui/view/vote/vote.js",function(E,C){var _=E("tangram:base"),B=E("common:nslog");function F(A){if(A.err==0){_.G("vote_num").innerHTML=A.count;_.G("vote_txt").innerHTML="\u60a8\u5df2\u8bc4\u4ef7\uff0c\u8c22\u8c22\uff01";}}function A(A){if(A){_.G("vote_num").innerHTML=A.count;}}function D(){_.dom.ready(function(){window.getVoteData=A;window.setVoteData=F;_.sio.callByBrowser("http://like.baidu.com/get?key="+baikeViewInfo.id+"&cb=getVoteData&type=0&like=1&pid=3&random="+Math.random());var C=_.G("vote_btn");_.on(C,"mouseover",function(){this.className="text_vote2";});_.on(C,"mouseout",function(){this.className="text_vote1";_.G("vote_txt").innerHTML="\u672c\u8bcd\u6761\u5bf9\u6211\u6709\u5e2e\u52a9";});_.on(C,"click",function(){B(window.location.href,3623);_.sio.callByBrowser("http://like.baidu.com/set?key="+baikeViewInfo.id+"&cb=setVoteData&type=0&like=1&pid=3&random="+Math.random());});C=null;});}C.init=D;return C;},["tangram:base","common:nslog"]);F.module("/static/lemma/ui/view/relateLemma/relateLemma.js",function(E,A){var _=E("tangram:base");function C(){var B=_.G("word_more");if(!B){return false;}var H=_.G("word_more_con").getElementsByTagName("a"),J=_.dom.children("onelinediv"),A=_.G("onelinediv"),D=H.length,E=A.offsetWidth-60,I,G=0;function F(A,_){A.appendChild(_);if(A.offsetWidth>E){A.removeChild(_);A.style.display="block";return false;}return true;}for(I=0;I<D;I++){var C=H[I].cloneNode(true);if(!F(J[G],C)){G++;I--;if(G>=3){B.style.visibility="visible";_.on(B,"mouseover",function(){_.addClass(this.childNodes[0],"hover");});_.on(B,"mouseout",function(){_.removeClass(this.childNodes[0],"hover");});A.style.visibility="visible";return;}}}A.style.visibility="visible";}function F(){var B=_.G("word_more"),A=_.G("word_more_con");if(A.style.display=="none"){B.className="word_more2";A.style.display="";A.title="\u6536\u8d77";}else{B.className="word_more1";A.style.display="none";A.title="\u5c55\u5f00";}}function B(){var A="/api/editcheck?lemmaId="+baikeViewInfo.id;_.ajax.get(A,function(A,_){if(_=="12"){Detect.content="<center><h2>\u5bf9\u4e0d\u8d77\uff0c\u60a8\u6682\u65f6\u6ca1\u6709\u6743\u9650\u7f16\u8f91\u8be5\u8bcd\u6761\u3002</h2></center><p>\u60a8\u597d\uff0c\u8be5\u8bcd\u6761\u5185\u5bb9\u5df2\u8f83\u4e30\u5bcc\uff0c\u73b0\u4ec5\u5bf9\u767e\u79d1\u7b49\u7ea7\u8fbe\u5230"+"<b>\u56db\u7ea7</b>\uff0c\u4e14\u901a\u8fc7\u7387\u8fbe\u5230<b>85%</b>\u7684\u79d1\u53cb\u5f00\u653e\u7f16\u8f91\u3002</p><p>\u5f53\u60a8\u901a\u8fc7\u52aa\u529b\u8fbe\u5230\u4ee5\u4e0a\u8981\u6c42\uff0c\u5c31\u53ef\u4ee5\u53c2\u4e0e\u7f16\u8f91\u8be5\u8bcd\u6761\u4e86\u3002</p>"+'<p>\u5982\u679c\u60a8\u8ba4\u4e3a\u8be5\u8bcd\u6761\u8fd8\u9700\u8fdb\u4e00\u6b65\u5b8c\u5584\uff0c\u53ef\u4ee5\u5230<a href="http://tousu.baidu.com/baike/add" target="_blank">\u6295\u8bc9\u4e2d\u5fc3</a>'+'\u53cd\u9988\u3002</p><p><img src="http://img.baidu.com/img/baike/usercenter/growuptask/star.gif" class="star" />\u53c2\u52a0'+'<a target="_blank" href="/uc/task" onclick="nslog(this.href, 449)">\u6210\u957f\u4efb\u52a1</a>\uff0c\u66f4\u5feb\u638c\u63e1\u767e\u79d1\u7f16\u8f91\u6280\u5de7\uff0c\u52a0\u901f\u5347\u7ea7\uff01</p>';var C=formatDetect_privcheck({title:"\u7f16\u8f91\u63d0\u793a",width:"402px",height:"220px",buttonbar:true,buttonAccept:true,buttonCancel:false,contentType:"HTMLUrl",locked:true});}else{var B="/relatedlemma/edit/?act=1&lemmaId="+baikeViewInfo.id+"&title="+G("titleVal").value;g_pop=bk.Dialog.iframe(B,{titleText:"\u5b8c\u5584\u76f8\u5173\u8bcd\u6761",contentType:1,isReloadOnClose:false,width:536,height:510});}});}window.editRelated=B;function D(){C();if(_.g("word_more")){_.on(_.g("word_more"),"click",function(){F();});}}A.init=D;return A;},["tangram:base"]);F.module("/static/lemma/ui/view/lemmapic/lemmapic.js",function(D,A){var _=D("tangram:base");function C(A){_.dom.ready(function(){_.each(document.getElementsByTagName("img"),function(B,A){if(B.className=="editorImg"){_.on(B,"mousedown",function(){nslog(this.src,8);});}});_.element(_.dom.query("#content-wrap .pan-img-box")).on("focus",function(){nslog(location.href,5650);});});}var B=function(F){F=_.g(F);if(!F){return;}var A=F.getElementsByTagName("IMG"),B=A.length,D=0,E=C(),J="data-src",G,K=[];for(;D<B;++D){if(_.dom.hasClass(A[D],"lazy-img")&&_.dom.getAttr(A[D],J)){K.push(A[D]);}}function C(){return _.page.getScrollTop()+_.page.getViewHeight()+300;}for(D=0,B=K.length;D<B;++D){G=K[D];if(_.dom.getPosition(G).top<E){G.src=G.getAttribute(J);G.removeAttribute(J);}else{break;}}var I=function(){var A=C(),B,D=true,F=0,E=K.length;for(;F<E;++F){G=K[F];B=G.getAttribute(J);B&&(D=false);if(B&&_.dom.getPosition(G).top<A){G.src=B;G.removeAttribute(J);}else{if(B){break;}}}D&&_.un(window,"scroll",H);},L=null,H=function(){if(L){clearTimeout(L);}L=setTimeout(I,50);};if(typeof historydiff!="undefined"){_.on(F,"scroll",H);}else{if(_.platform.isIpad){setTimeout(function(){var _=K.length;for(var A=0;A<_;++A){G=K[A];imgSrc=G.getAttribute(J);if(imgSrc){G.src=imgSrc;G.removeAttribute(J);}}},50);}else{_.on(window,"scroll",H);}}};A.init=C;A.lazyLoadImage=B;return A;},["tangram:base"]);F.module("/static/lemma/ui/view/contributors/contributors.js",function(require,exports){var baidu=require("tangram:base"),nslog=require("common:nslog");function init(){baidu.dom.ready(function(){baidu.array.each(baidu.q("contri-expand","pro-contributors"),function(_){baidu.on(_,"click",function(B){baidu.event.stop(B);var A=baidu.dom.getText(_);if(A=="\u5c55\u5f00"){showLemma(baidu.dom.getAttr(_,"userName"),_);}else{hideLemma(baidu.dom.getAttr(_,"userName"),_);}});});var _=baidu.g("contri-more");if(_){baidu.on(_,"click",function(_){baidu.event.stop(_);showMoreContri();});}});}function showLemma(A,_){baidu.array.each(baidu.q(A,"pro-contributors"),function(E,B){if(B==0){var D='<img class="contri-hide" src="http://img.baidu.com/img/baike/contri_hide.gif" userName="{userName}" '+'style="cursor:pointer;"/>'.replace("{userName}",A);baidu.dom.query("td span",baidu.g(E))[0].innerHTML=D;baidu.on(baidu.dom.query("td span img",baidu.g(E))[0],"click",function(){hideLemma(A,_);});}try{baidu.dom.show(E);}catch(C){}});_.innerHTML="\u6536\u8d77";nslog(window.location.href,1029);}function hideLemma(A,_){baidu.array.each(baidu.q(A,"pro-contributors"),function(A){try{baidu.dom.hide(A);}catch(_){}});_.innerHTML="\u5c55\u5f00";}function showMoreContri(limitRow){var limit=limitRow||20;baidu.ajax.get("/api/lemmaGrow?lemmaId="+baikeViewInfo.id+"&limit=20&callback= ",function(req){if(baidu.g("tr-contri-more")){baidu.dom.remove("tr-contri-more");}var json=eval("("+req.responseText+")"),dom=[];dom.push(' <table width="235px;" border="0" cellspacing="0" cellpadding="0" class="topuser f12">');var lemmaData=json.lemmaGrow.data,showGd=false,showComplex=false,index;for(index=0;index<lemmaData.length;index++){var showIcon=true;if(index>=limit){break;}var lemma=lemmaData[index],userName;if((lemma.gd&&lemma.gd.length>0)||(lemma.hq&&lemma.hq.length>0)||(lemma.imgos&&lemma.imgos.length>0)||(lemma.hperfect&&lemma.hperfect.length>0)){if(!showGd){dom.push("<tr><td colspan='4'><strong>\u7a81\u51fa\u8d21\u732e\u8005\uff1a</strong><img align='absmiddle' src='http://img.baidu.com/img/baike/blank.gif'"+" class='what' title='\u8d21\u732e\u4f18\u8d28\u3001\u9ad8\u8d28\u91cf\u7248\u672c\uff0c\u88ab\u79f0\u4e3a\u7a81\u51fa\u8d21\u732e\u8005'/></td></tr>");showGd=true;}}else{if(lemma.complex.length>0&&!showComplex){dom.push("<tr><td colspan='4'><strong>\u8f9b\u52e4\u8d21\u732e\u8005\uff1a</strong><img align='absmiddle' src='http://img.baidu.com/img/baike/blank.gif'"+" class='what' title='\u8d21\u732e\u590d\u6742\u7248\u672c\uff0c\u88ab\u79f0\u4e3a\u8f9b\u52e4\u8d21\u732e\u8005'/></td></tr>");showComplex=true;}}dom.push("<tr><td width='18px'>");if(lemma.user.odpFlag=="2"){var str='<a target="_blank" href="http://baike.baidu.com/cms/s/kdt/index.html" align="absmiddle" title="\u767e\u79d1\u874c\u86aa\u56e2" class="odp odp'+ +lemma.user.odpLevel+'"></a>';dom.push(str);}dom.push("</td>");userName=lemma.user.userName;dom.push('<th width="100"><a class="usercard" username="{lemma.user.userName}" href="http://passport.baidu.com/?'+"business&aid=7&default_tab=2&un="+lemma.user.userName+'#3" target="_blank" title="\u67e5\u770b\u6b64\u7528\u6237\u8d44\u6599">{lemma.user.userName}</a></th>'.replace(/\{lemma.user.userName\}/g,lemma.user.userName));dom.push('<td width="60" align="right"><a href="http://www.baidu.com/search/baike_help.html#&#30334;&#31185;&#31215;'+'&#20998;&#20307;&#31995;" target="_blank"><img style="width: 60px;" src="http://img.baidu.com/img/baike/blank.gif" '+'class="usertitle level{level}" align="absmiddle"/></a></td>'.replace("{level}",lemma.user.level));dom.push('<td align="right" width="74">');if(lemma.verIcon){dom.push('<a target="_blank" href="{lemma.verIcon.href}"><img align="absmiddle" title="{lemma.verIcon.name}" src="{lemma.verIcon.src}"/></a>'.replace("{lemma.verIcon.href}",lemma.verIcon.href).replace("{lemma.verIcon.name}",lemma.verIcon.name).replace("{lemma.verIcon.src}",lemma.verIcon.src));}if(lemma.imgIcon){dom.push('<a target="_blank" href="{lemma.imgIcon.href}"><img align="absmiddle" title="{lemma.imgIcon.name}" src="{lemma.imgIcon.src}"/></a>'.replace("{lemma.imgIcon.href}",lemma.imgIcon.href).replace("{lemma.imgIcon.name}",lemma.imgIcon.name).replace("{lemma.imgIcon.src}",lemma.imgIcon.src));}var len=parseInt(lemma.gd?lemma.gd.length:0)+parseInt(lemma.hq?lemma.hq.length:0)+parseInt(lemma.imgos?lemma.imgos.length:0)+parseInt(lemma.hperfect?lemma.hperfect.length:0)+parseInt(lemma.complex?lemma.complex.length:0);if(len>1){dom.push('&nbsp;&nbsp;<span userName="{lemma.userId}" class="contri-expand">\u5c55\u5f00</span></td></tr>'.replace("{lemma.userId}",lemma.userId));}else{if(lemma.verIcon){dom.push('&nbsp;&nbsp;<a target="_blank" class="contri-a nslog:1040" href="/history/id={id}">\u7248\u672c</a></tr>'.replace("{id}",lemma.verIcon.id));}else{if(lemma.imgIcon){dom.push('&nbsp;&nbsp;<a target="_blank" class="contri-a nslog:1040" href="/history/id={id}">\u7248\u672c</a></tr>'.replace("{id}",lemma.imgIcon.id));}}}if(len>1&&lemma.hperfect&&parseInt(lemma.hperfect.length)>0){baidu.array.each(lemma.hperfect,function(A,B){dom.push('<tr class="{userName} contri-more-tr" style="display: none">'.replace("{userName}",lemma.userId));dom.push('<td colspan="4">');dom.push('<a target="_blank" href="{lemma.hpIcon.href}"><img align="absmiddle" title="{lemma.hpIcon.name}" src="{lemma.hpIcon.src}"/></a>'.replace("{lemma.hpIcon.href}",lemma.hpIcon.href).replace("{lemma.hpIcon.name}",lemma.hpIcon.name).replace("{lemma.hpIcon.src}",lemma.hpIcon.src));dom.push('&nbsp;<a target="_blank" href="/history/id={id}" class="contri-a nslog:1040">\u7248\u672c</a>'.replace("{id}",A[0]));if(B==0){showIcon=false;var _='<img align="absmiddle" class="contri-hide"  src="http://img.baidu.com/img/baike/contri_hide.gif" userName="{userName}" style="cursor:pointer;"/>'.replace("{userName}",userName);dom.push('<span class="contri-span">');dom.push(_);dom.push("</span></td></tr>");}else{dom.push('<span class="contri-span"></span></td></tr>');}});}if(len>1&&lemma.gd&&parseInt(lemma.gd.length)>0){baidu.array.each(lemma.gd,function(A,B){dom.push('<tr class="{userName} contri-more-tr" style="display: none">'.replace("{userName}",lemma.userId));dom.push('<td colspan="4">');dom.push('<a target="_blank" href="{lemma.gdIcon.href}"><img align="absmiddle" title="{lemma.gdIcon.name}" src="{lemma.gdIcon.src}"/></a>'.replace("{lemma.gdIcon.href}",lemma.gdIcon.href).replace("{lemma.gdIcon.name}",lemma.gdIcon.name).replace("{lemma.gdIcon.src}",lemma.gdIcon.src));dom.push('&nbsp;<a target="_blank" href="/history/id={id}" class="contri-a nslog:1040">\u7248\u672c</a>'.replace("{id}",A[0]));if(B==0){showIcon=false;var _='<img align="absmiddle" class="contri-hide"  src="http://img.baidu.com/img/baike/contri_hide.gif" userName="{userName}" style="cursor:pointer;"/>'.replace("{userName}",userName);dom.push('<span class="contri-span">');dom.push(_);dom.push("</span></td></tr>");}else{dom.push('<span class="contri-span"></span></td></tr>');}});}if(len>1&&lemma.imgos&&parseInt(lemma.imgos.length)>0){baidu.array.each(lemma.imgos,function(A,B){dom.push('<tr class="{userName} contri-more-tr" style="display: none">'.replace("{userName}",lemma.userId));dom.push('<td colspan="4">');dom.push('<a target="_blank" href="{lemma.imgIcon.href}"><img align="absmiddle" title="{lemma.imgIcon.name}" src="{lemma.imgIcon.src}"/></a>'.replace("{lemma.imgIcon.href}",lemma.imgIcon.href).replace("{lemma.imgIcon.name}",lemma.imgIcon.name).replace("{lemma.imgIcon.src}",lemma.imgIcon.src));dom.push('&nbsp;<a target="_blank" href="/history/id={id}" class="contri-a nslog:1040">\u7248\u672c</a>'.replace("{id}",A[0]));if(B==0){showIcon=false;var _='<img align="absmiddle" class="contri-hide"  src="http://img.baidu.com/img/baike/contri_hide.gif" userName="{userName}" style="cursor:pointer;"/>'.replace("{userName}",userName);dom.push('<span class="contri-span">');dom.push(_);dom.push("</span></td></tr>");}else{dom.push('<span class="contri-span"></span></td></tr>');}});}if(len>1&&lemma.hq&&parseInt(lemma.hq.length)>0){baidu.array.each(lemma.hq,function(_,B){dom.push('<tr class="{userName} contri-more-tr" style="display: none">'.replace("{userName}",lemma.userId));dom.push('<td colspan="4">');dom.push('<a target="_blank" href="{lemma.hqIcon.href}"><img align="absmiddle" title="{lemma.hqIcon.name}" src="{lemma.hqIcon.src}"/></a>'.replace("{lemma.hqIcon.href}",lemma.hqIcon.href).replace("{lemma.hqIcon.name}",lemma.hqIcon.name).replace("{lemma.hqIcon.src}",lemma.hqIcon.src));dom.push('&nbsp;<a target="_blank" href="/history/id={id}" class="contri-a nslog:1040">\u7248\u672c</a>'.replace("{id}",_[0]));if(showIcon&&B==0){var A='<img align="absmiddle" class="contri-hide"  src="http://img.baidu.com/img/baike/contri_hide.gif" userName="{userName}" style="cursor:pointer;"/>'.replace("{userName}",userName);dom.push('<span class="contri-span">');dom.push(A);dom.push("</span></td></tr>");}else{dom.push('<span class="contri-span"></span></td></tr>');}});}if(len>1&&lemma.complex&&parseInt(lemma.complex.length)>0){baidu.array.each(lemma.complex,function(_,B){dom.push('<tr class="{userName} contri-more-tr" style="display: none">'.replace("{userName}",lemma.userId));dom.push('<td colspan="4">');dom.push('<a target="_blank" href="{lemma.complexIcon.href}"><img align="absmiddle" title="{lemma.complexIcon.name}" src="{lemma.complexIcon.src}"/></a>'.replace("{lemma.complexIcon.href}",lemma.complexIcon.href).replace("{lemma.complexIcon.name}",lemma.complexIcon.name).replace("{lemma.complexIcon.src}",lemma.complexIcon.src));dom.push('&nbsp;<a target="_blank" href="/history/id={id}" class="contri-a nslog:1040">\u7248\u672c</a>'.replace("{id}",_[0]));if(showIcon&&B==0){var A='<img align="absmiddle" class="contri-hide"  src="http://img.baidu.com/img/baike/contri_hide.gif" userName="{userName}" style="cursor:pointer;"/>'.replace("{userName}",userName);dom.push('<span class="contri-span">');dom.push(A);dom.push("</span></td></tr>");}else{dom.push('<span class="contri-span"></span></td></tr>');}});}}if(limit==20){dom.push('<tr id="tr-contri-less"><td align="center" colspan="4"><a id="contri-less" href="#" class="contri-a">\u6536\u8d77</a></td></tr>');}else{dom.push('<tr id="tr-contri-more"><td align="center" colspan="4"><a id="contri-more" href="#" class="contri-a">\u67e5\u770b\u66f4\u591a\u8d21\u732e\u8005</a></td></tr>');}dom.push("</table>");baidu.g("contri-div").innerHTML=dom.join("");if(baidu.g("contri-less")){baidu.on(baidu.g("contri-less"),"click",function(_){baidu.event.stop(_);showMoreContri(5);});}if(baidu.g("contri-more")){baidu.on(baidu.g("contri-more"),"click",function(_){baidu.event.stop(_);showMoreContri();});}baidu.array.each(baidu.q("contri-expand","pro-contributors"),function(_){baidu.on(_,"click",function(B){baidu.event.stop(B);var A=baidu.dom.getText(_);if(A=="\u5c55\u5f00"){showLemma(baidu.dom.getAttr(_,"userName"),_);}else{hideLemma(baidu.dom.getAttr(_,"userName"),_);}});});baidu.array.each(baidu.q("usercard","pro-contributors"),function(_){usercard.bindTrigger(_);});});nslog(window.location.href,1041);}exports.init=init;return exports;},["tangram:base","common:nslog"]);F.module("/static/lemma/ui/view/lemmaPV/lemmaPV.js",function(require,exports){var baidu=require("tangram:base"),BKDynamic=require("/static/lemma/ui/view/BKDynamic/BKDynamic.js");function getDays(D){if(!D){return"";}var B=D.match(/(\d{2,4})-(\d{1,2})-(\d{1,2})/);B[2]=parseInt(B[2],10)-1;var A=new Date(B[1],B[2],B[3]),_=new Date(),C=new Date(_.getFullYear(),_.getMonth(),_.getDate()-1),E=parseInt((A-C)/(1000*3600*24));switch(E){case 1:return"\u4eca\u5929";case 0:return"\u6628\u5929";case-1:return"2\u5929\u524d";case-2:return"3\u5929\u524d";}return D;}function init(){baidu.dom.ready(function(){var modifytime=baidu.G("lastModifyTime");modifytime.innerHTML=getDays(baidu.trim(modifytime.innerHTML));baidu.ajax.get("/api/lemmacnt/"+baikeViewInfo.id+"?rec=1",function(xhr){var result=eval("("+xhr.responseText+")");if(result){baidu.G("viewPV").innerHTML=result.pv;if(result.dynamic){BKDynamic.init();}}});});}exports.init=init;return exports;},["tangram:base","/static/lemma/ui/view/BKDynamic/BKDynamic.js"]);F.module("/static/lemma/ui/view/BKDynamic/BKDynamic.js",function(E,B){var _=E("tangram:base"),A=E("common:nslog");function C(){window.ctrlBKDynamic=F;_.sio.callByBrowser("/template/baikeDynamicData.js?b="+window.screenLeft+"&random="+Math.random());}function F(){if(typeof bkDynamic!="undefined"){var B=bkDynamic[0];_.G("profileTitle").innerHTML=B;if(!!bkDynamic[1][0]){_.G("task").innerHTML='<dl><dt class="sidetitle2">'+bkDynamic[1][0]+'\uff1a<a href="'+bkDynamic[1][1][1]+'" target="_blank">'+bkDynamic[1][1][0]+'</a></dt> <dd><a href="'+bkDynamic[1][1][1]+'" target="_blank"><img src="'+bkDynamic[1][1][2]+'" width="160" height="81"></a></dd></dl>';_.show("task");}if(!!bkDynamic[2][0]){_.G("notice").innerHTML='<dl><dt class="sidetitle2">'+bkDynamic[2][0]+"\uff1a</dt>"+bkDynamic[2][1]+"</dl>";_.show("task");}_.show("bkDynamic");_.each(_.G("bkDynamic").getElementsByTagName("a"),function(C,B){_.on(C,"click",function(){A(this.href,235,{index:B});});});}}function D(){C();}B.init=D;return B;},["tangram:base","common:nslog"]);F.module("/static/lemma/ui/view/utils/ani.js",function(B,_){function A(B,_,A){if(B){this.time=B;}if(_){this.transform=_;}if(A){this.interval=A;}}A.prototype={interval:40,transform:function(_){return 1-Math.pow(1-_,3);},time:2000,task:null,finishFunc:null,start:function(F,G){var E=this.interval,B=this.time,A=this.transform,H=A(1),D=0,_=this;this.finishFunc=G;function C(){D+=E;var C=D/B;if(C>=1){F(1);G&&G();clearInterval(_.task);}else{F(A(C)/H);}}this.task=setInterval(C,E);},stop:function(){if(this.task){clearInterval(this.task);}if(this.finishFunc){this.finishFunc();}}};_.ani=A;return _;},[]);F.module("/static/lemma/ui/view/ipad/ipad.js",function(J,D){var A=J("tangram:base"),_=J("/static/lemma/ui/view/sidecatalog/sidecatalog.js"),C=J("common:nslog");function I(G,_){var F=0,B,D,C=_?"left":"top";function E(_){_=_.touches.item(0);return{left:_.pageX,top:_.pageY};}window.ontouchstart=function(_){};G.ontouchstart=function(H){B=(_?parseInt(A.dom.getStyle(G,"width")):G.clientHeight)-parseInt(A.dom.getStyle(G.parentNode,[_?"width":"height"]));F=E(H)[C];D=parseInt(G.style[C])||0;flag=A.event.getTarget(H).nodeName.toLowerCase()=="a";return true;};G.ontouchmove=function(_){var A=D+E(_)[C]-F;A=((A>0)?0:(A<-B?-B:A));G.style[C]=A+"px";return false;};G.ontouchend=function(){return true;};}if(A.platform.isIpad){function H(){var C=function(){var A=Math.abs(window.orientation)==90?"landscape":"portrait";if(A=="landscape"&&G){G();}_.resize();};window.addEventListener("orientationchange",C,false);A.dom.insertHTML("side","beforeBegin",'<div id="side-lock" ontouchstart="showSide(event);return false;"></div>');A.dom.insertHTML("side","afterBegin",'<div id="side-lock2" ontouchstart="hideSide(event);return false;"></div>');C();A.dom.insertHTML("path","beforeEnd",'<ul id="path-more" style="display:none;"></ul>');A.each(A.dom.query("#path li").slice(-3),function(_){var B=_.cloneNode(true);A.dom.addClass(_,"portrait-hidden");A.g("path-more").appendChild(B.cloneNode(true));});A.dom.insertHTML(A.dom.first("path"),"beforeEnd",'<li id="path-more-act"><a id="ipad-more-path">\u66f4\u591a\u25bc</a></li>');A.on("ipad-more-path","click",function(_){B(_);});}H();function F(_){_.stopPropagation();C(location.href,5305);A.dom.addClass("side","side-show");A.hide("side-lock");A.on(document.body,"touchmove",G);A.g("side").ontouchmove=function(){return false;};A.on(document.body,"click",G);}window.showSide=F;if(navigator.userAgent.match(/CPU OS ([\d])/)[1]<5){function E(){var _=A.page.getScrollTop();A.g("side").style.top=_+"px";A.g("side-lock").style.top=455+_+"px";}A.on(window,"scroll",E);}function G(_){if(_){var B=A.event.get(_),C=B.target;if(C.id=="side"){return;}}if(!_||C.id=="side-lock2"||!A.dom.contains("side",C)){A.dom.removeClass("side","side-show");if(_&&_.type=="touchmove"){A.hide("side");setTimeout(function(){A.show("side");},500);}A.show("side-lock");A.un(document.body,"touchmove",G);A.g("side").ontouchmove=function(){};A.un(document.body,"click",G);}}window.hideSide=G;function B(_){_.stopPropagation();var C=A.event.get(_),D=C.target;if(!A.dom.contains("path-more",D)){A.dom.toggle("path-more");A.dom.toggleClass("path-more-act","path-more-act");A[A.dom.hasClass("path-more-act","path-more-act")?"on":"un"](document.body,"click",B);}}showHotReasonTip=function(){};showCompleteTip=function(){};showTip=function(){};A.dom.ready(function(){I(A.g("side-title-list"),0);A.each(A.q("card-image","page"),function(_){_.parentNode.target="_self";});A.each(A.dom.query(".text_pic a"),function(_){_.target="_self";});A.each(A.q("album-overlay","page"),function(_){_.target="_self";});});window.onhashchange=function(){window.scrollBy(0,-10);};(function(F){if(!(/iPhone|iPad|iPod/.test(navigator.platform)&&navigator.userAgent.indexOf("AppleWebKit")>-1)){return;}var G=F.document;if(!G.querySelector){return;}var E=G.querySelector("meta[name=viewport]"),C=E&&E.getAttribute("content"),_=C+",maximum-scale=1",K=C+",maximum-scale=10",A=true,M,L,J,D;if(!E){return;}function I(){E.setAttribute("content",K);A=true;}function B(){E.setAttribute("content",_);A=false;}function H(_){D=_.accelerationIncludingGravity;M=Math.abs(D.x);L=Math.abs(D.y);J=Math.abs(D.z);if(!F.orientation&&(M>7||((J>6&&L<8||J<8&&L>6)&&M>5))){if(A){B();}}else{if(!A){I();}}}F.addEventListener("orientationchange",I,false);F.addEventListener("devicemotion",H,false);})(this);}D.touchMove=I;return D;},["tangram:base","/static/lemma/ui/view/sidecatalog/sidecatalog.js","common:nslog"]);F.module("/static/lemma/ui/view/album/album.js",function(F,A){var _=F("tangram:base"),B=F("/static/lemma/ui/view/utils/ani.js").ani,D=F("/static/lemma/ui/view/ipad/ipad.js");function C(H,M,D,A){var C=_.object.keys(H).length,K=0,F=0,E=[];for(var Q in H){E.push([Q,"http://imgsrc.baidu.com/baike/abpic/item/"+H[Q].cover+".jpg",H[Q].desc,H[Q].count,H[Q].isCloudAlubm]);}if(C>4){_.addClass("bacb-right-btn-"+D,"right-enable");}_.setStyle("bacb-window-inner-"+D,"width",165*C+100+"px");var L=function(C,B){var _="BkImgGettingSize"+(new Date()).valueOf(),A=window[_]=document.createElement("IMG");A.onload=function(){var A=this;setTimeout(function(){B(A.width,A.height,window[_]);window[_]=null;},10);this.onload=null;};A.onerror=function(){B(0,0);window[_]=null;};A.src=C;},N=function(B,A){var C=_.string.getByteLength(B);if(C>A){return _.string.subByte(B,A-4)+"...";}else{return B;}},P=null,J=function(){if(P){P.stop();}var C=parseInt(_.getStyle("bacb-window-inner-"+D,"left")),A=-K*156;if(C==A){return;}P=new B(70,function(_){return _;},17);P.start(function(B){_.setStyle("bacb-window-inner-"+D,"left",C+(A-C)*B+"px");},function(){_.setStyle("bacb-window-inner-"+D,"left",A+"px");P=null;});},I=function(){_.on("bacb-left-btn-"+D,"click",function(){if(K<1){return;}K--;J();O();});_.on("bacb-right-btn-"+D,"click",function(){if(K>C-5){return;}K++;J();O();});},O=function(){if(K==0){_.removeClass("bacb-left-btn-"+D,"left-enable");}else{_.addClass("bacb-left-btn-"+D,"left-enable");}if(K==C-4){_.removeClass("bacb-right-btn-"+D,"right-enable");}else{_.addClass("bacb-right-btn-"+D,"right-enable");}},G=function(){if(F==C){I();return;}var B=E[F][1];L(B,function(K,J){var H=document.createElement("DIV");H.className="item";if(E[F][4]&&E[F][4]==1){H.className+=" nslog:6200";}var C=0,L=0;if(K>J){L=parseInt(133*J/K);C=133;}else{C=parseInt(133*K/J);L=133;}if(A=="true"){H.innerHTML='<div class="img" style="margin-top:'+(134-L)+"px; margin-left:"+Math.floor((133-C)/2)+'px;"><div class="b1"><div class="b2"><div class="b3"><a hidefocus="true" class="img-wrapper"><img src="'+B+'"width="'+C+'" height="'+L+'" ondragstart="return false;"/></a></div></div></div></div><p class="desc"><a href="'+I+'" target="_blank" title="'+E[F][2]+'">'+N(E[F][2],18)+'</a><span class="count">('+E[F][3]+"\u5f20)</span></p>";}else{var I="/albums/"+M+"/"+D+"/1/"+parseInt(E[F][0])+".html#"+parseInt(E[F][0])+"$";H.innerHTML='<div class="img" style="margin-top:'+(134-L)+"px; margin-left:"+Math.floor((133-C)/2)+'px;"><div class="b1"><div class="b2"><div class="b3"><a href="'+I+'" target="_blank" class="img-wrapper"><img src="'+B+'"width="'+C+'" height="'+L+'" ondragstart="return false;"/></a></div></div></div></div><p class="desc"><a href="'+I+'" target="_blank" title="'+E[F][2]+'">'+N(E[F][2],18)+'</a><span class="count">('+E[F][3]+"\u5f20)</span></p>";}_.g("bacb-window-inner-"+D).appendChild(H);F++;G();});};G();}function E(B,E,F,A){C(B,E,F,A);if(_.platform.isIpad){D.touchMove(_.g("bacb-window-inner-"+F),1);_.each(_.q("img-wrapper","bacb-window-inner-"+F),function(_){_.target="_self";});}}A.init=E;return A;},["tangram:base","/static/lemma/ui/view/utils/ani.js","/static/lemma/ui/view/ipad/ipad.js"]);F.module("/static/lemma/ui/view/sublemma/sublemma.js",function(J,_){var F=J("tangram:base"),B=J("/static/lemma/ui/view/catalog/catalog.js"),E=J("/static/lemma/ui/view/lemmapic/lemmapic.js"),I=J("common:event"),K=J("/static/lemma/ui/view/sublemma/sublemmaList.js"),A={};function D(B,L){var J=baikeViewInfo.expIndex,H=F.dom.getPosition,N=F.g("sec-header"+B),D=F.dom.children("sublemma-options-list"),_=F.addClass,K=F.removeClass;baikeViewInfo.expIndex=(J==B)?-1:B;if(L&&J<B){var E=H(N).top,M=E-F.page.getScrollTop();}if(J!=-1){F.hide("sec-content"+J);K("sec-header"+J,"b-ent-section-expand");K(D[J],"expand");}if(J!=B){if(L&&J<B){var A=H(N).top,C=A-M;if(document.documentElement.scrollTop){document.documentElement.scrollTop=C;}else{if(document.body.scrollTop){document.body.scrollTop=C;}}}F.show("sec-content"+B);_(N,"b-ent-section-expand");_(D[B],"expand");G(B);}I.fire("bk.event.SectionStatusChanged",B);}baikeInfo.sublemma=baikeInfo.sublemma||{};baikeInfo.sublemma.fx=null;function L(A){var _=F.dom.q("hook-lemma-ext-module","sec-content"+A);F.each(_,function(A,_){A.src=A.getAttribute("data-src");A=null;});}function G(_){if(!A[_]){B().start(_);E.lazyLoadImage("sec-content"+_);L(_);var G=F.g("cardpic"+_);if(G){var D=G.getElementsByTagName("img")[0];G.style.width=D.width+"px";}try{A[_]=true;}catch(C){}}}function H(){var I=baikeViewInfo.expIndex,J=baikeViewInfo.subLen;if(baikeViewInfo.isMulit){var M=F.g("sublemma-options-list"),G=F.dom.children(M);K.showAddLemmaSubLink();for(var O=0;O<J;O++){var H=F.g("sec-header"+O);F.on(H,"click",(function(_){return function(){D(_,true);};}(O)));F.on(G[O],"click",(function(_){return function(A){if(F.dom.hasClass(this,"expand")){return;}var B=F.event.getTarget(A);if(B.tagName.toLowerCase()=="a"){D(_,false);}};}(O)));var N=F.q("b-ent-section-action-toggle",H)[0];F.on(N,"mouseover",function(){F.addClass(this,"section-hover");});F.on(N,"mouseout",function(){F.removeClass(this,"section-hover");});F.on(N,"click",function(_){F.event.preventDefault(_);});}L(I);E.lazyLoadImage("sec-content"+I);B().start(I);A[I]=true;F.addClass(G[I],"expand");F.addClass("sec-header"+I,"b-ent-section-expand");var _=F.g("b-ent-toc-trigger");if(_){var C=_.parentNode;F.on(C,"click",function(A){K.showorhideSubLemmaList(!_.status);F.event.preventDefault(A);});F.on(C,"mouseover",function(){F.addClass(this,"toc-hover");});F.on(C,"mouseout",function(){F.removeClass(this,"toc-hover");});F.on(M,"mouseover",function(){F.addClass(F.g("b-ent-toc-trigger").parentNode,"toc-hover");});F.on(M,"mouseout",function(){F.removeClass(F.g("b-ent-toc-trigger").parentNode,"toc-hover");});F.on("sublemma-options-list","click",function(_){var A=F.event.getTarget(_);if(A.nodeType==1&&(A.tagName.toLowerCase()=="a"||A.tagName.toLowerCase()=="span")){return;}else{nslog(location.href,515,{target:"list"});K.showorhideSubLemmaList(1);}});outclick=function(_){if(F.g("sidecatalog").style.display!="none"){return;}var A=F.event.getTarget(_);if(!F.dom.contains(F.g("sublemma-options-list").parentNode,A)){K.showorhideSubLemmaList(0);}A=null;};}}else{L(0);E.lazyLoadImage("sec-content0");B().start(0);}}function C(){F.dom.ready(function(){H();});}_.init=C;_.subLemmaTitleStatusChange=D;return _;},["tangram:base","/static/lemma/ui/view/catalog/catalog.js","/static/lemma/ui/view/lemmapic/lemmapic.js","common:event","/static/lemma/ui/view/sublemma/sublemmaList.js"]);F.module("/static/lemma/ui/view/sublemma/sublemmaList.js",function(H,B){var _=H("tangram:base"),D=H("common:fx").fx,A=H("common:userlogin"),J=H("common:dialog"),E=H("/static/lemma/ui/view/edit/detect.js");function G(C){var F=_.g("b-ent-toc-trigger"),E=_.g("sublemma-options-list");if(baikeInfo.sublemma.fx){baikeInfo.sublemma.fx.stop();}if(C){var B=Math.ceil(E.getElementsByTagName("li").length/2)*26,D=new FX(E,{height:{to:B}},0.3,"easeIn",function(){_.removeClass(F.parentNode.parentNode,"expand");F.parentNode.title="\u6536\u8d77\u4e49\u9879";});_.on(document,"click",outclick);}else{D=new FX(E,{height:{to:72}},0.3,"easeOut",function(){_.addClass(F.parentNode.parentNode,"expand");F.parentNode.title="\u66f4\u591a\u4e49\u9879";});try{_.un(document,"click",outclick);}catch(A){}}F.status=C;baikeInfo.sublemma.fx=D;D.start();}function F(B){var D="hook-polysemy-set-sub",G=B,F=_.dom.getAttr(G,"data-"+D);F=_.json.parse(F);if(F){var E=F.lemmaId;_.on(G,"click",function(B){A.check(function(){C(E);},false,"polysemysetsub");_.event.preventDefault(B);});}}function C(_){var A="/polysemysetsub/id="+_;g_pop=bk.Dialog.iframe(A,{titleText:"\u4e49\u9879\u8bbe\u7f6e",contentType:1,isReloadOnClose:false,width:536,height:420});}function I(){var B="hook-polysemy-add-sub";_.each(_.q(B,"content","a"),function(F){var D=_.dom.getAttr(F,"data-"+B);D=_.json.parse(D);if(D){var C=D.lemmaId;_.on(F,"click",function(B){E.url="/createpolysemyitem?lemmaid="+C;E.id=C;var D="polysemysetsub";A.check(E.detecting,false,D);_.event.preventDefault(B);});}});}B.showorhideSubLemmaList=G;B.showSetLemmaSubLink=F;B.showAddLemmaSubLink=I;return B;},["tangram:base","common:fx","common:userlogin","common:dialog","/static/lemma/ui/view/edit/detect.js"]);F.module("/static/lemma/ui/view/controller/controller.js",function(W,J){var I=W("/static/lemma/ui/view/contributors/contributors.js"),O=W("/static/lemma/ui/view/lemmapic/lemmapic.js"),A=W("/static/lemma/ui/view/lemmaPV/lemmaPV.js"),G=W("/static/lemma/ui/view/sublemma/sublemma.js"),E=W("/static/lemma/ui/view/sidecatalog/sidecatalog.js"),Q=W("/static/lemma/ui/view/reference/reference.js"),N=W("/static/lemma/ui/view/bottle/bottle.js"),X=W("/static/lemma/ui/view/usercenter/usercenter.js");W("/static/lemma/ui/view/coeditors/coeditors.js");W("/static/lemma/ui/view/usercard/usercard.js");W("/static/lemma/ui/view/nslog/nslog.js");W("/static/lemma/ui/view/updown/updown.js");W("/static/lemma/ui/view/vertical/vertical.js");var D=W("/static/lemma/ui/view/horizonScroll/horizonScroll.js"),M=W("/static/lemma/ui/view/edit/edit.js"),L=W("/static/lemma/ui/view/lazyLoad/lazyLoad.js");E.init();G.init();I.init();O.init(document.getElementById("lemmaContent-"+baikeViewInfo.expIndex));O.lazyLoadImage("videoMaterial");A.init();Q.init();N.init();X.init();M.init();L.init();W("/static/lemma/ui/view/ipad/ipad.js");D.init(".pan-img-box-h");baidu.page.loadJsFile("http://baike.baidu.com/cms/s/banner/tmpact.js?r="+Math.random());bk.event.on("bk.doubtbox.startDoubt",function(_){F.use("/static/lemma/ui/view/feedSys/feedSys.js",function(A){A.init(_.doubtBox);});});var R=document.referrer.indexOf("360.cn")>0?true:false;if(R&&baidu.cookie.get("tipFor360")!="show"){W("/static/lemma/ui/view/tipFor360/tipFor360.js");}else{if(baidu.browser.ie==6){W("/static/lemma/ui/view/tipForIE6/tipForIE6.js");}}var _=baidu.g("cardpic0"),C=baidu.g("lemmaContent-0"),S=C.getElementsByTagName("img"),Y=S.length,T=false,K=0,V=0;for(var P=0;P<Y;P++){var U=S[P].className;if(U.indexOf("editorImg")>=0){K++;}if(U.indexOf("album-cover")>=0){V++;}if(K==5||V==1){T=true;break;}}if(T){var B=document.createElement("div");B.innerHTML='<div class="more-link log-set-param" log-set-param="cardlink_show"><ul><li class="log-set-param" log-set-param="baike_baidu"><span>&nbsp;</span><a class="nslog:314" href="http://baike.baidu.com/albums/'+baikeViewInfo.id+"/"+baikeViewInfo.subLemmaId+'/0/0.html#." target="_blank">\u67e5\u770b\u7cbe\u5f69\u56fe\u518c</a></li></ul></div>';var H=baidu.dom.query(".card-summary-content");if(H.length>0){H[0].appendChild(B);}}return J;},["/static/lemma/ui/view/contributors/contributors.js","/static/lemma/ui/view/lemmapic/lemmapic.js","/static/lemma/ui/view/lemmaPV/lemmaPV.js","/static/lemma/ui/view/sublemma/sublemma.js","/static/lemma/ui/view/sidecatalog/sidecatalog.js","/static/lemma/ui/view/reference/reference.js","/static/lemma/ui/view/bottle/bottle.js","/static/lemma/ui/view/usercenter/usercenter.js","/static/lemma/ui/view/coeditors/coeditors.js","/static/lemma/ui/view/usercard/usercard.js","/static/lemma/ui/view/nslog/nslog.js","/static/lemma/ui/view/updown/updown.js","/static/lemma/ui/view/vertical/vertical.js","/static/lemma/ui/view/horizonScroll/horizonScroll.js","/static/lemma/ui/view/edit/edit.js","/static/lemma/ui/view/lazyLoad/lazyLoad.js","/static/lemma/ui/view/ipad/ipad.js","/static/lemma/ui/view/tipFor360/tipFor360.js","/static/lemma/ui/view/tipForIE6/tipForIE6.js"]);F.module("/static/lemma/ui/view/authority/authority.js",function(B,A){var _=B("tangram:base");_.dom.ready(function(){var B=_.g("authDetail");if(B){var A=B.innerHTML;if(A.length>34){A=A.slice(0,34)+"...";B.innerHTML=A;}}});return A;},["tangram:base"]);F.module("/static/lemma/ui/view/sidecatalog/sidecatalog.js",function(a,R){var W=a("tangram:base"),D=a("common:fx").fx,A=a("common:nslog"),N=a("/static/lemma/ui/view/sublemma/sublemma.js"),Z=a("common:event"),c=22,U=[],L=[],C=80,M=false,P=[];baikeInfo.timer={};var V=baikeViewInfo.expIndex;function T(){if(baikeViewInfo.subLen<=1&&(!W.g("catalog-0"))){W.g("sidebar").style.visibility="hidden";A("sidebar",1025,{catalog:0});}else{Y();W.on("side-catalog-up","mousedown",function(){clearInterval(baikeInfo.timer.ele_side_catalog_scroll);baikeInfo.timer.ele_side_catalog_scroll=setInterval(function(){H(3);},300);});W.on("side-catalog-up","mouseup",function(){clearInterval(baikeInfo.timer.ele_side_catalog_scroll);});W.on("side-catalog-up","click",function(){clearInterval(baikeInfo.timer.ele_side_catalog_scroll);H(3);});W.on("side-catalog-down","mousedown",function(){clearInterval(baikeInfo.timer.ele_side_catalog_scroll);baikeInfo.timer.ele_side_catalog_scroll=setInterval(function(){H(-3);},300);});W.on("side-catalog-down","click",function(){clearInterval(baikeInfo.timer.ele_side_catalog_scroll);H(-3);});W.on("side-catalog-down","mouseup",function(){clearInterval(baikeInfo.timer.ele_side_catalog_scroll);});W.on("side-catalog-up","mouseover",function(_){if(this.className!="disabled"){W.addClass(this,"hover");}});W.on("side-catalog-up","mouseout",function(_){W.removeClass(this,"hover");});W.on("side-catalog-down","mouseout",function(_){W.removeClass(this,"hover");});W.on("side-catalog-down","mouseover",function(_){if(this.className!="disabled"){W.addClass(this,"hover");}});A("sidebar",1025,{catalog:1});}}function Y(){var E=baikeViewInfo.subLen,A=baikeViewInfo.expIndex,B=baikeViewInfo.cataList;if(E>1){var I,_=0;for(I=0,l=B.length;I<l;I++){if(B[I].level==1){var C=B[I];L.push(C);var D=(A==_++);if(D){B[I].exp=true;}C.children=[];var H;for(H=I+1;H<l&&(B[H].level>1);H++){B[H].display=D;C.children.push(B[H]);}if(C.children.length==1){l=l-C.children.length;W.each(C.children,function(_){W.array.remove(B,_);});C.children=[];}else{I=H-1;}}}}U=B;F();G();Z.on("bk.event.SectionStatusChanged",O);}function F(){var E=document.createElement("div"),B=document.createElement("div"),J=document.createElement("div"),G=document.createElement("div"),A=document.createElement("div");B.id="side-title-list";E.id="side-title-panel";J.id="side-catalog-up";G.id="side-catalog-down";A.id="side-lemma-title";var C={"\u5206\u96c6\u5267\u60c5":"series","\u5267\u60c5\u7b80\u4ecb":"synopsis"},_=0;W.each(U,function(F,A){var D=document.createElement("h"+F.level),E=["<a href='#"+F.ele+"' class='nslog:1026'",C[F.title]?(" log-data-detail = '"+C[F.title]+"'"):""," title='",W.string.encodeHTML(F.title)];F.ele=document.getElementsByName(F.ele)[0];if(F.level==1){if(F.exp){D.className="expand";}E.push("' sub-index='"+(_++));}E.push("'>"+W.string.subByte(F.title,28)+"</a>");D.innerHTML=E.join("");B.appendChild(D);F.item=D;if(!F.display){W.hide(D);}D=null;});E.appendChild(B);var D=W.g("side-catalog-content");A.innerHTML=baikeViewInfo.title;J.innerHTML="<div></div>";G.innerHTML="<div></div>";D.appendChild(J);D.appendChild(A);D.appendChild(E);D.appendChild(G);var F=B.getElementsByTagName("a"),H;for(H=0,l=F.length;H<l;H++){W.on(F[H],"click",function(_){if(this.parentNode.tagName.toLowerCase()=="h1"){N.subLemmaTitleStatusChange(W.dom.getAttr(this,"sub-index"),false);setTimeout(I,200);}});}F=null;B=E=J=G=D=null;}function G(){W.each(U,function(_){if(_.display){P.push(_);}});}function O(){var C=baikeViewInfo.expIndex,B=L,A=B[V],_=B[C];if(C!=-1){if(A&&A.item&&A.children){W.removeClass(A.item,"expand");W.each(A.children,function(_){W.hide(_.item);_.display=false;});}W.addClass(_.item,"expand");W.each(_.children,function(_){W.show(_.item);_.display=true;});}else{if(A){W.removeClass(A.item,"expand");W.each(A.children,function(_){W.hide(_.item);_.display=false;});}}G();I();V=C;}function I(A){var O=W.g("sidecatalog"),G=W.g("side-catalog-content"),I=W.g("main-wrap"),F=W.dom.getPosition(I),H=E(),D=W.page.getViewHeight(),J=W.page.getViewWidth(),K=Math.min(D-200,510);K=K-K%22;if(H>K){H=K;}if(H<92){H=92;}C=H-70;var M=I.offsetWidth-(W.platform.isIpad?0:document.body.scrollLeft)+F.left-30,L=D-170,N=D-H-60;B(O,{top:L,left:M});B(G,{overflow:"hidden",height:H,top:N,left:(W.platform.isIpad&&J<800)?M-251:M+27});var _=W.g("side-title-panel");if(_){W.dom.setStyle(_,"height",H-70);}X();}function E(){var _=0;W.each(U,function(A){if(A.display){_++;}});return(_*c+70);}function X(){if(M){var K=W.page.getScrollTop()+70,G=W.g("side-title-list");if(G){var F=C,B=E()-70;if(F<=0||B==0){return;}var J;for(J=0,l=P.length;J<l;J++){var D=P[J];if(W.dom.getPosition(D.ele).top<=K&&((J+1==l)||((J+1<l)&&W.dom.getPosition(P[J+1].ele).top>K))){var _=J*c,I=F/2;I=I-I%22;var H=Math.min(F-_-I,0),A="normal";if(H+B<=F){H=-B+F;A="bottom";}if(H==0){A=(A=="bottom")?"both":"top";}b(A);W.dom.setStyle(G,"top",H);W.addClass(D.item,"on");}else{W.removeClass(D.item,"on");}}}}}function K(){var E=W.page.getScrollTop(),A=W.page.getViewHeight(),C=W.q("b-ent-section"),D=C.length?(W.dom.getPosition(C[0]).top-50):800,_=Math.min(A*2,D),B=W.page.getHeight()-A-20;if(E<_){return false;}else{return true;}}function H(A){var I=W.g("side-title-list"),D=A*c,H=C,_=E()-70;if(H<=0){return;}var J=parseInt(I.style.top)||0,B=J+D,F="normal";if(B>=0){B=0;F="top";}if(B+_<=H){B=Math.min(-_+H,0);F=(F=="top")?"both":"bottom";}b(F);B=B-B%c;var G=new FX(I,{top:{to:B}},0.3,"linear");G.start();}function _(_){if(U[_]){var A=W.dom.getPosition(U[_].ele).top-10;window.scrollTo(0,A);}}function b(_){switch(_){case"top":W.g("side-catalog-up").className="disable";W.removeClass("side-catalog-down","disable");break;case"bottom":W.g("side-catalog-down").className="disable";W.removeClass("side-catalog-up","disable");break;case"normal":W.removeClass("side-catalog-up","disable");W.removeClass("side-catalog-down","disable");break;case"both":W.g("side-catalog-up").className="disable";W.g("side-catalog-down").className="disable";break;}}function J(){var _=false;return function(){W[_?"hide":"show"]("side-catalog-content");W[_?"removeClass":"addClass"]("sidebar","show");_=!_;M=_;var C=X;if(W.ie&&W.ie<7){C=Q;}if(_){X();W.on(window,"scroll",C);}else{try{W.un(window,"scroll",C);}catch(B){}}A("sidecatalog.toggle",1027,{status:_});};}function Q(){clearTimeout(baikeInfo.timer.scroll_catalogfocus);baikeInfo.timer.scroll_catalogfocus=setTimeout(X,200);}function S(_){var G=W.g("sidecatalog");clearTimeout(baikeInfo.timer.ele_side_catalog);if(!K()){W.hide(G);W.hide(W.g("side-catalog-content"));}else{if(W.platform.isIpad){var B=W.g("side-catalog-content"),E=W.page.getViewHeight(),F=W.page.getScrollTop(),A=E-150,D=E-C-130;W.hide(G);W.hide(B);G.style.position="absolute";B.style.position="absolute";G.style.top=A+F+"px";B.style.top=D+F+"px";}W.show(G);if(M){W.show("side-catalog-content");}}}function B(B,_){B=W.g(B);if(B){if(W.ie&&W.ie<7){W.setStyle(B,"position","absolute");var A=(_.top||W.page.getViewHeight());B.style.setExpression("top","eval((document.documentElement||document.body).scrollTop+"+A+") + 'px'");delete _.top;}else{W.setStyle(B,"position","fixed");}W.setStyles(B,_);}}function d(){W.dom.ready(function(){T();I();S();W.on(window,"scroll",S);W.on("sidebar","click",J());W.on(window,"resize",I);if(!W.platform.isIpad){W.on(window,"scroll",I);}W.on(W.g("gotop"),"click",function(_){W.event.preventDefault(_);A(location.href,1028);window.scrollTo(0,0);});});}R.init=d;R.resize=I;return R;},["tangram:base","common:fx","common:nslog","/static/lemma/ui/view/sublemma/sublemma.js","common:event"]);F.module("/static/lemma/ui/view/advertise/advertise.js",function(D,B){var _=D("tangram:base"),A=D("common:nslog");arrBaiduAds=new Array();function E(B){if(typeof(arrBaiduAds[B])=="undefined"||arrBaiduAds[B]==""){return;}_.g("mabox").style.display="";A.set("maad",1);_.g("box2-inner").innerHTML=arrBaiduAds[B];}function C(A){_.sio.callByBrowser("http://a.baidu.com/ecom?di=216&tm=baiduASPT216S&tn=baidubaike_pg&word="+A,function(){E(216);});}B.init=C;return B;},["tangram:base","common:nslog"]);F.module("/static/lemma/ui/view/reference/reference.js",function(N,_){var G=N("tangram:base"),A=N("common:nslog"),F=N("common:delegate"),L=null,P=[];function D(_){G.dom.addClass(G.g("reference-"+_+"-wrap"),"reference_highlight");}function O(_){_.className="reference_highlight";}function I(_){var B=document.getElementById("content").getElementsByTagName("a"),A=null;for(var D=0;A=B[D];D++){if(A.name===_||(A.getAttribute("data-collapsed")&&C(A.name,_))){break;}}if(!A){return null;}return A.previousSibling;function C(A,C){var B=A.split("_")[1].replace(/\[|\]/g,"").split("&"),_=C.split("_")[1].replace(/\[|\]/g,"");if(+_<=+B[1]&&+_>=+B[0]){return 1;}return 0;}}function B(_,B){var C=[],A=_.substr(1,_.length-2).split("-");if(A.length==1){C.push("["+A[0]+"]"+"-"+B);}else{for(var D=(+A[0]);D<=(+A[1]);D++){C.push("["+D+"]"+"-"+B);}}return C;}function C(_){var A=parseInt(G.dom.getPosition(_).top)-5;if(A>0){window.scrollTo(0,A);}}function M(){L&&(L.className="");}function H(){for(var A=0,_;_=P[A];A++){G.dom.removeClass(G.g("reference-"+_+"-wrap"),"reference_highlight");}}function K(F,A){H();M();var _=B(F.innerHTML,A);P=_;lastFromSup=F;for(var E=0;E<_.length;E++){D(_[E]);}C(G.g("reference-"+_[0]+"-wrap"));}function J(D){var A=D.href.substr(D.href.indexOf("#")+1);M();H();if(_(A)){var B=lastFromSup;}else{B=I(A);}L=B;O(B);C(B);function _(_){for(var A=0;A<P.length;A++){if(("ref-"+P[A])==(_.split("_").join("-"))){return 1;}}return 0;}}function E(){G.each(G.dom.query("#content .lemma-main-content"),function(B,_){G.on(B,"click",function(C){var F=G.event.get(C),H=F.target;if(H.nodeName.toUpperCase()!=="SUP"){return;}var E=G.dom.next(H);if(!E||E.nodeName.toUpperCase()!=="A"||!E.getAttribute("name")){return;}var B=E.getAttribute("name"),D=B.split("_");if(D.length>2){_=D[D.length-1];}E=null;K(H,_);A(window.location.href,1970);});});G.each(G.dom.query("#content div.reinforce dd.reference"),function(B,_){G.on(B,"click",function(_){var B=G.event.get(_),C=B.target;if(C.nodeName.toUpperCase()=="A"&&C.className=="ref-top"){window.location.hash=C.href.substr(C.href.indexOf("#")+1);G.event.preventDefault(B);J(C);A(window.location.href,1971);}});});var _=G.dom.query("#viewRefer li");if(_.length){A(window.location.href,1967);A(window.location.href,1969,{refNum:_.length});}}_.init=E;return _;},["tangram:base","common:nslog","common:delegate"]);F.module("/static/lemma/ui/view/coeditors/coeditors.js",function(B,A){var _=B("tangram:base");_.dom.ready(function(){var B=_.G("co-editors");if(!B){return;}if(B.offsetHeight>25){_.show("more-coeditor");var A=B.getElementsByTagName("span");while(B.offsetHeight>25&&A.length>0){B.removeChild(A[A.length-1]);}}});return A;},["tangram:base"]);F.module("/static/lemma/ui/view/bottle/bottle.js",function(F,D){var A=F("tangram:base"),C=F("common:nslog"),B=F("common:userlogin");function _(){function _(I){var E=A.dom.getAttr(I,"data-edit-id"),H=A.dom.getAttr(I,"type");if(E){var D=0,_="";E=E.split("$$");if(E.length>1){D=E[0];_=E[1];}var F=E[2]||"";if(H==="lemmaMulit"){I.innerHTML=['<a subLemmaId="',D,'" oriLemmaId="',F,'" subLemmaTitle="',_,'" class="throwbtl-link-head throwbtl-link-view lemma-top-link edit-section-throwbtl-link" href="#">\u6c42\u52a9\u7f16\u8f91</a>'].join("");}else{I.innerHTML=['<a subLemmaId="',D,'" oriLemmaId="',F,'" subLemmaTitle="',_,'" isViewCard="1" class="throwbtl-link-view" href="#" '+">\u6c42\u52a9\u7f16\u8f91</a>"].join("");}}else{I.innerHTML='<a href="#"'+' class="throwbtl-link-head lemma-top-link throwbtl-link-view" '+' hidefocus="true">\u6c42\u52a9\u7f16\u8f91</a>';}var G=I.getElementsByTagName("a");if(G&&G[0]){G[0].onclick=function(){if(!window.curUser){C(location.href,3721,{fr:8});}B();return false;};}}A.each(A.q("throwbtl-link-span"),_);}function E(){A.dom.ready(function(){_();});}D.init=E;return D;},["tangram:base","common:nslog","common:userlogin"]);F.module("/static/lemma/ui/view/edit/detect.js",function(require,exports){var dialog=require("common:dialog");Detect={detecting:function(){handle_doDetect();},url:"",id:"",subId:"",uptime:"",upnum:"",upst:"",content:"",latestid:""};function formatDetect(_){var A=bk.Dialog.iframe("/page/detect.html",_);return A;}function formatDetect_privcheck(_){var A=bk.Dialog.iframe("/page/privcheck.html",_);return A;}Detect.callback=function(_,B){if(_.toAuditDivideVersionNum!=0){Detect.content="\u62b1\u6b49\uff0c\u8be5\u8bcd\u6761\u5f53\u524d\u5b58\u5728\u5f85\u901a\u8fc7\u7248\u672c\uff0c\u8bf7\u7a0d\u540e\u518d\u8fdb\u884c\u64cd\u4f5c\u3002";var A=formatDetect({titleText:"\u7f16\u8f91\u63d0\u793a",width:"388px",height:"190px",buttonbar:true,buttons:{cancel:{content:"\u8fd4\u56de",onclick:function(){A.close();}}},contentType:"HTMLUrl",locked:true});}else{if(_.conflictVersionNum>=_.conflictLimit){if(_.conflictLimit){var C;if(baidu.G("BkLogUser")){C="func=editdeny&username="+baidu.G("BkLogUser").innerHTML+"&lid="+baikeViewInfo.id;}else{C="func=editdeny&lid="+baikeViewInfo.id;}nslog.stat(C);Detect.content="\u5f88\u62b1\u6b49\uff0c\u8be5\u8bcd\u6761\u5df2\u6709\u591a\u4e2a\u7248\u672c\u6b63\u5728\u63d0\u4ea4\u4e2d\uff0c\u60a8\u5f53\u524d\u65e0\u6cd5\u7f16<br>\u8f91\u8be5\u8bcd\u6761\uff1a\uff08<br><br>\u767e\u79d1\u5efa\u8bae\u60a8\u665a\u4e9b\u65f6\u5019\u518d\u5c1d\u8bd5\u7f16\u8f91\u8be5\u8bcd\u6761\uff0c\u6216\u5c1d\u8bd5\u7f16\u8f91\u5176\u4ed6<br>\u8bcd\u6761\u3002";A=formatDetect({titleText:"\u7f16\u8f91\u63d0\u793a",width:"388px",height:"190px",buttonbar:true,buttons:{cancel:{content:"\u8fd4\u56de",onclick:function(){A.close();}}},contentType:"HTMLUrl",locked:true});}else{if(_.isMidNight==1){Detect.content='\u60a8\u5f53\u524d\u7684\u7f16\u8f91\u65f6\u95f4\u5c5e\u767e\u79d1<a href="http://www.baidu.com/search/baike_help.html'+'#&#20160;&#20040;&#26159;&#22812;&#38388;&#32534;&#36753;&#25552;&#31034;" target="_blank">'+"\u7279\u6b8a\u7f16\u8f91\u65f6\u6bb5</a>\u3002<br><br>\u4e3a\u4fdd\u8bc1\u60a8\u7684\u7f16\u8f91\u6210\u679c\u5728\u63d0\u4ea4\u540e\u7684\u6700\u77ed\u65f6\u95f4\u5185\u751f\u6548\uff0c\u767e\u79d1\u5efa<br>\u8bae\u60a8\u9009\u62e9\u5176\u4ed6\u65f6\u95f4\u8fdb\u884c\u7f16\u8f91\uff1a\uff09"+"<br><br>\u4ecd\u7136\u8981\u7ee7\u7eed\u7f16\u8f91\u5417\uff1f";A=formatDetect({titleText:"\u7f16\u8f91\u63d0\u793a",width:"388px",height:"190px",buttonbar:true,buttons:{cancel:{content:"\u8fd4\u56de",onclick:function(){A.close();}},accept:{content:"\u786e\u5b9a",onclick:function(){if(!B){window.location=Detect.url;}else{B();}}}},contentType:"HTMLUrl",locked:true});}else{if(!B){window.location=Detect.url;}else{B();}}}}else{if((_.conflictDegree==1)||(_.conflictDegree==2)){Detect.content="\u8be5\u8bcd\u6761\u5f53\u524d\u5df2\u6709\u5176\u4ed6\u7248\u672c\u6b63\u5728\u7b49\u5f85\u901a\u8fc7\u3002<br><br>\u4e3a\u4e86\u4fdd\u969c\u60a8\u7684\u7f16\u8f91\u80fd\u5f97\u5230\u53ca\u65f6\u901a\u8fc7\uff0c\u5efa\u8bae\u60a8\u7a0d\u540e\u518d\u7f16\u8f91<br>\u672c\u8bcd\u6761\uff1a\uff09"+"<br><br>\u4ecd\u7136\u8981\u7ee7\u7eed\u5417\uff1f";A=formatDetect({titleText:"\u7f16\u8f91\u63d0\u793a",width:"388px",height:"190px",buttonbar:true,buttons:{accept:{content:"\u786e\u5b9a",onclick:function(){if(!B){window.location=Detect.url;}else{B();}}},cancel:{content:"\u53d6\u6d88",onclick:function(){A.close();}}},contentType:"HTMLUrl",locked:true});}else{if(_.isMidNight==1){Detect.content='\u60a8\u5f53\u524d\u7684\u7f16\u8f91\u65f6\u95f4\u5c5e\u767e\u79d1<a href="http://www.baidu.com/search/baike_help.html'+'#&#20160;&#20040;&#26159;&#22812;&#38388;&#32534;&#36753;&#25552;&#31034;" target="_blank">'+"\u7279\u6b8a\u7f16\u8f91\u65f6\u6bb5</a>\u3002<br><br>\u4e3a\u4fdd\u8bc1\u60a8\u7684\u7f16\u8f91\u6210\u679c\u5728\u63d0\u4ea4\u540e\u7684\u6700\u77ed\u65f6\u95f4\u5185\u751f\u6548\uff0c\u767e\u79d1\u5efa<br>\u8bae\u60a8\u9009\u62e9\u5176\u4ed6\u65f6\u95f4\u8fdb\u884c\u7f16\u8f91\uff1a\uff09"+"<br><br>\u4ecd\u7136\u8981\u7ee7\u7eed\u7f16\u8f91\u5417\uff1f";A=formatDetect({titleText:"\u7f16\u8f91\u63d0\u793a",width:"388px",height:"190px",buttonbar:true,buttons:{cancel:{content:"\u8fd4\u56de",onclick:function(){A.close();}},accept:{content:"\u786e\u5b9a",onclick:function(){if(!B){window.location=Detect.url;}else{B();}}}},contentType:"HTMLUrl",locked:true});}else{if(!B){window.location=Detect.url;}else{B();}}}}}};Detect.doDetect=function(fn){var _str="tp=0&r="+Math.random()+"&lemmaid="+Detect.id+"&lemmaVersionId=0",_url="/getConflictInfo/?"+_str;baidu.ajax.get(_url,function(xhr){Detect.callback(eval("("+xhr.responseText+")"),fn);});};function handle_doDetect(){baidu.sio.callByBrowser("/static/common/js/common/Dialog.js?t=20120319144444",function(){var _="/api/editcheck?lemmaId="+baikeViewInfo.id+(Detect.subId?("&subLemmaId="+Detect.subId):"")+"&flag=1";baidu.ajax.get(_,function(A,_){_=baidu.json.parse(_);if(typeof(_)=="object"){Detect.content="<center></center><p>"+baikeViewInfo.title+"\u5df2\u4e3a"+_.stdWord+"\u7684\u6765\u6e90\u8bcd\uff0c\u65e0\u6cd5\u7ee7\u7eed\u8fdb\u884c\u7f16\u8f91\uff0c\u70b9\u51fb\u201c\u786e\u5b9a\u201d\uff0c\u60a8\u53ef\u521b\u5efa\u6807\u51c6\u8bcd"+_.stdWord+"\u3002</p>";var B=formatDetect_privcheck({titleText:"\u7f16\u8f91\u63d0\u793a",width:"402px",height:"220px",buttonbar:true,buttons:{accept:{content:"\u786e\u5b9a",onclick:function(){window.open("/search_noitem/?create=0&word="+_.stdWord);}}},contentType:"HTMLUrl",locked:true});}else{if(_=="12"){Detect.content="<center><h2>\u5bf9\u4e0d\u8d77\uff0c\u60a8\u6682\u65f6\u6ca1\u6709\u6743\u9650\u7f16\u8f91\u8be5\u8bcd\u6761\u3002</h2></center><p>\u60a8\u597d\uff0c\u8be5\u8bcd\u6761\u5185\u5bb9\u5df2\u8f83\u4e30\u5bcc\uff0c\u73b0\u4ec5\u5bf9\u767e\u79d1\u7b49\u7ea7\u8fbe\u5230<b>\u56db\u7ea7</b>\uff0c"+"\u4e14\u901a\u8fc7\u7387\u8fbe\u5230<b>85%</b>\u7684\u79d1\u53cb\u5f00\u653e\u7f16\u8f91\u3002</p><p>\u5f53\u60a8\u901a\u8fc7\u52aa\u529b\u8fbe\u5230\u4ee5\u4e0a\u8981\u6c42\uff0c\u5c31\u53ef\u4ee5\u53c2\u4e0e\u7f16\u8f91\u8be5\u8bcd\u6761\u4e86\u3002</p>"+'<p>\u5982\u679c\u60a8\u8ba4\u4e3a\u8be5\u8bcd\u6761\u8fd8\u9700\u8fdb\u4e00\u6b65\u5b8c\u5584\uff0c\u53ef\u4ee5\u5230<a href="http://tousu.baidu.com/baike/add" target="_blank">'+'\u6295\u8bc9\u4e2d\u5fc3</a>\u53cd\u9988\u3002</p><p><img src="http://img.baidu.com/img/baike/usercenter/growuptask/star.gif" '+'class="star" />\u53c2\u52a0<a target="_blank" href="/uc/task" onclick="nslog(this.href, 449)">\u6210\u957f\u4efb\u52a1</a>\uff0c'+"\u66f4\u5feb\u638c\u63e1\u767e\u79d1\u7f16\u8f91\u6280\u5de7\uff0c\u52a0\u901f\u5347\u7ea7\uff01</p>";B=formatDetect_privcheck({titleText:"\u7f16\u8f91\u63d0\u793a",width:"402px",height:"220px",buttonbar:true,buttons:{accept:{content:"\u786e\u5b9a",onclick:function(){B.close();}}},contentType:"HTMLUrl",locked:true});}else{Detect.doDetect();}}});});}exports=Detect;return exports;},["common:dialog"]);F.module("/static/lemma/ui/view/edit/edit.js",function(L,A){var G=L("tangram:base"),C=L("/static/lemma/ui/view/edit/detect.js"),_=L("common:userlogin"),F=L("common:delegate");function I(){function _(D){var B=G.dom.getAttr(D,"data-edit-id");if(B){var _=B,A=0,C=0;B=B.split(":");if(B.length>1){_=B[0];A=B[1];C=B[2];}D.innerHTML=["<a href='#' class='nslog:1019'>\u7f16\u8f91\u672c\u6bb5</a>"].join("");G.on(D.getElementsByTagName("a")[0],"click",function(B){nslog&&nslog(location.href,1805);H("/edit/",_,A,C);G.event.stop(B);});}}G.each(G.q("editable-title"),_);}function K(){}function E(){var A=G.g("sublemma-edit"),_=G.g("lock-edit");if(A){A.innerHTML='<em class="sprite"></em>\u8bf7\u6309\u4e49\u9879\u8fdb\u884c\u7f16\u8f91';}if(_){_.innerHTML='<a href="http://www.baidu.com/search/baike_help.html#\u9501\u5b9a\u8bcd\u6761" target="_blank">\u8bcd\u6761\u5df2\u9501\u5b9a</a>';}}function J(){var A=G.g("lemma-edit");if(A){var _=G.dom.getAttr(A,"data-edit-id");if(_){G.on(A,"mouseover",function(){G.dom.addClass(this,"onhover");});G.on(A,"mouseout",function(){G.dom.removeClass(this,"onhover");});G.on(A,"click",function(){H("/edit/",_);nslog("edit",1020);nslog(location.href,1804);});}}}function M(){G.each(G.q("b-ent-section-action-edit","content","a"),function(C){var B=G.dom.getAttr(C,"data-edit-id");if(B){var _=B.split(":")[0],A=B.split(":")[1];G.on(C,"click",function(B){H("/edit/",_,A);nslog("edit",1020);nslog(location.href,1804);G.event.stop(B);});C.innerHTML='<span class="med-slv-bdr"><em class="sprite"></em>\u7f16\u8f91\u672c\u4e49\u9879</span>';}});}function D(){G.dom.ready(function(){if(baikeViewInfo.editable!="false"){I();J();M();}E();F("#try-edit","click",function(_){H("/edit/",baikeViewInfo.id);G.event.stop(_);});F("#related_edit_id","click",function(A){_.check(B,false,"editrelated");G.event.stop(A);});});}function B(){var _="/api/editcheck?lemmaId="+baikeViewInfo.id;G.ajax.get(_,function(A,_){if(_=="12"){C.content="<center><h2>\u5bf9\u4e0d\u8d77\uff0c\u60a8\u6682\u65f6\u6ca1\u6709\u6743\u9650\u7f16\u8f91\u8be5\u8bcd\u6761\u3002</h2></center><p>\u60a8\u597d\uff0c\u8be5\u8bcd\u6761\u5185\u5bb9\u5df2\u8f83\u4e30\u5bcc\uff0c\u73b0\u4ec5\u5bf9\u767e\u79d1\u7b49\u7ea7\u8fbe\u5230"+"<b>\u56db\u7ea7</b>\uff0c\u4e14\u901a\u8fc7\u7387\u8fbe\u5230<b>85%</b>\u7684\u79d1\u53cb\u5f00\u653e\u7f16\u8f91\u3002</p><p>\u5f53\u60a8\u901a\u8fc7\u52aa\u529b\u8fbe\u5230\u4ee5\u4e0a\u8981\u6c42\uff0c\u5c31\u53ef\u4ee5\u53c2\u4e0e\u7f16\u8f91\u8be5\u8bcd\u6761\u4e86\u3002</p>"+'<p>\u5982\u679c\u60a8\u8ba4\u4e3a\u8be5\u8bcd\u6761\u8fd8\u9700\u8fdb\u4e00\u6b65\u5b8c\u5584\uff0c\u53ef\u4ee5\u5230<a href="http://tousu.baidu.com/baike/add" target="_blank">\u6295\u8bc9\u4e2d\u5fc3</a>'+'\u53cd\u9988\u3002</p><p><img src="http://img.baidu.com/img/baike/usercenter/growuptask/star.gif" class="star" />\u53c2\u52a0'+'<a target="_blank" href="/uc/task" class="nslog:449">\u6210\u957f\u4efb\u52a1</a>\uff0c\u66f4\u5feb\u638c\u63e1\u767e\u79d1\u7f16\u8f91\u6280\u5de7\uff0c\u52a0\u901f\u5347\u7ea7\uff01</p>';var D=formatDetect_privcheck({title:"\u7f16\u8f91\u63d0\u793a",width:"402px",height:"220px",buttonbar:true,buttonAccept:true,buttonCancel:false,contentType:"HTMLUrl",locked:true});}else{var B="/relatedlemma/edit/?act=1&lemmaId="+baikeViewInfo.id+"&title="+G.g("titleVal").value;g_pop=bk.Dialog.iframe(B,{titleText:"\u5b8c\u5584\u76f8\u5173\u8bcd\u6761",contentType:1,isReloadOnClose:false,width:536,height:510});}});}function H(E,B,I,H){C.url=E+"id="+B+(I?"&subLemmaId="+I:"")+(H?"&dl="+H:"");if(location.href.indexOf("fr=")!=-1){var F=location.search.split("&"),A="";G.each(F,function(_,B){if(_.indexOf("fr=")!=-1){A=_;}});C.url+="&"+A;}C.id=B;C.subId=I;var D=(H?"part_edit":"edit");if(!window.curUser){nslog(location.href,3721,{fr:2});}_.check(C.detecting,false,D);}editLemmaPara=H;window.editLemma=H;A.init=D;return A;},["tangram:base","/static/lemma/ui/view/edit/detect.js","common:userlogin","common:delegate"]);F.module("/static/lemma/ui/view/usercard/usercard.js",function(A,_){baidu.sio.callByBrowser("http://baike.bdimg.com/static/usercenter/js/release/bk.usercard.js?r="+Math.random());return _;},[]);F.module("/static/lemma/ui/view/nslog/nslog.js",function(D,B){var _=D("tangram:base"),A=D("common:nslog"),E=D("common:delegate");E(".lemma-main-content a","mousedown",function(B){var D=_.event.get(B),C=D.target;console.log(C);if(/\/view\/\d+.htm(l)?$/.test(C.href)){A(C.href,12);}C=null;});var C={};_.each(_.q("log-set-param"),function(D){var A=_.dom.getAttr(D,"log-set-param").split(":");if(A.length==1){var B=C[A[0]]||0;B++;}else{B=A[1];}C[A[0]]=B;});_.object.each(C,function(_,B){A.set(B,_);});A(location.href,11);_.page.loadJsFile("http://hm.baidu.com/h.js?55b574651fcae74b0a9f1cf9c8d7c93a");return B;},["tangram:base","common:nslog","common:delegate"]);F.module("/static/lemma/ui/view/updown/updown.js",function(B,A){var _=B("tangram:base");_.event.on(document,"keypress",function(B){var C=_.event.getTarget(B).tagName.toLowerCase();if(C=="input"||C=="textarea"){return;}var A=_.event.getKeyCode(B);if(A=="106"){document.documentElement.scrollTop+=20;document.body.scrollTop+=20;}else{if(A=="107"){document.documentElement.scrollTop-=20;document.body.scrollTop-=20;}}});return A;},["tangram:base"]);F.module("/static/lemma/ui/view/lazyLoad/lazyLoad.js",function(require,exports){var baidu=require("tangram:base"),CLASS_NAME="lazyload",FUN_ATTR="lazy-init",PATH_ATTR="lazy-path",lazy=function(_){_=_||{};_.preloadHeight=_.preloadHeight||300;_.className=_.className||CLASS_NAME;baidu.dom.ready(function(){var B=document.getElementsByTagName("div"),H=[],F=B.length;for(var J=0;J<F;J++){if(B[J].className&&B[J].className.indexOf(_.className)>-1){H.push(B[J]);}}var F=H.length,J=0,A=G(),D;function G(){return baidu.page.getScrollTop()+baidu.page.getViewHeight()+_.preloadHeight;}var E=function(){var A=G(),F,I=true,M=0,J=H.length;for(;M<J;++M){D=H[M];if(D.className&&D.className.indexOf("rslazyload")>-1){var E=D.id.match(/^rs-container-(\d+?)-/),L=0;if(E&&E.length==2){var B=E[1];for(var K=0;K<baikeViewInfo.subList.length;K++){if(baikeViewInfo.subList[K].subLemmaId==B){L=K;}}}if(baikeViewInfo.expIndex!=L){continue;}}eventInit=D.getAttribute(FUN_ATTR);I=(eventInit=="done");if(baidu.dom.getPosition(D).top<A&&!I){baidu.lang.isFunction(_.onlazyload)&&_.onlazyload(D);D.setAttribute(FUN_ATTR,"done");}else{if(!I){break;}}}I&&baidu.un(window,"scroll",C);},I=setTimeout(E,50),C=function(){if(I){clearTimeout(I);}I=setTimeout(E,50);};baidu.on(window,"scroll",C);});};function init(options){options=options||{};options.onlazyload=function(target){var path=baidu.dom.getAttr(target,PATH_ATTR),fn=baidu.dom.getAttr(target,FUN_ATTR);if(path!=null&&path.length>0){F.use(path,function(e){eval(fn);});}else{eval(fn);}};lazy(options);}exports.init=init;return exports;},["tangram:base"]);F.module("/static/lemma/ui/view/usercenter/usercenter.js",function(P,C){var I=P("tangram:base"),D=P("common:nslog"),L=P("common:event"),A=P("/static/lemma/ui/view/split/split.js"),J=P("common:message");P("common:util");function G(){L.on("bk.event.user.login",function(){var _=0;Q();A();if(I.g("usertaskstatus")){userTaskInfo();}});}function Q(){var _="/api/personalmesg?date="+new Date().getTime();I.ajax.get(_,function(A){var B=0,_=setInterval(function(){B++;if(bk&&bk.lemma&&bk.lemma.bottleMessage){clearInterval(_);S(A);var C=bk.ui.enctip();window.setTimeout(C.build_userinfo_tip,300);}else{if(B>100){clearInterval(_);}}},100);});}function S(Q){document.getElementById("userInfoDiv").innerHTML='<div class="userinfo-inner fix"><div id="userMessage" class="fix">'+'<a href="/uc/home" target="_blank" class="nslog:221"><img id="userPic" class="userinfo-pic"/></a>'+'<div id="userDetail"><div id="userTitle"><a id="kedoutuanPic" href="http://baike.baidu.com/cms/s/kdt/index.html" '+'target="_blank" class="nslog:223"><img id="iconOdp" border="0" title="\u767e\u79d1\u874c\u86aa\u56e2" alt="\u767e\u79d1\u874c\u86aa\u56e2"/></a>'+'<a id="masterPic" href="http://baike.baidu.com/cms/topic/master/index.html" target="_blank"><img id="iconAdmin" border="0" '+'title="\u767e\u79d1\u5206\u7c7b\u7ba1\u7406\u5458" alt="\u767e\u79d1\u5206\u7c7b\u7ba1\u7406\u5458"/></a><a id="corePic" href="http://baike.baidu.com/cms/s/core/index.html" target="_blank">'+'<img id="iconVip" border="0" title="\u6838\u5fc3\u7528\u6237" alt="\u6838\u5fc3\u7528\u6237"/></a><a href="/uc/home" id="userTitleLink" target="_blank" '+' class="nslog:222"></a></div><p><a href="http://www.baidu.com/search/baike_help.html#&#30334;&#31185;&#31215;'+'&#20998;&#20307;&#31995;" target="_blank"><img src="http://img.baidu.com/img/baike/blank.gif" align="absmiddle" id="userTitlePic" />'+'</a><a href="http://www.baidu.com/search/baike_help.html#&#39640;&#36136;&#37327;&#29256;&#26412;&#19982;&#20248;&#36136;&#29256;&#26412;'+'&#35780;&#36873;&#35268;&#21017;&#65288;&#50;&#48;&#49;&#49;&#45;&#48;&#50;&#45;&#49;&#52;&#65289;" target="_blank" id="highVersionLink" '+'title="\u9ad8\u8d28\u91cf\u7248\u672c"></a><span id="highVersionNum"></span><a href="http://www.baidu.com/search/baike_help.html#&#39640;&#36136;&#37327;'+"&#29256;&#26412;&#19982;&#20248;&#36136;&#29256;&#26412;&#35780;&#36873;&#35268;&#21017;&#65288;&#50;&#48;&#49;&#49;&#45;&#48;&#50;"+'&#45;&#49;&#52;&#65289;" target="_blank" id="goodVersionLink" title="\u4f18\u8d28\u7248\u672c"></a><span id="goodVersionNum"></span></p>'+'<div id="userProcessBack"><div id="userProcess"></div></div></div><div id="bkshopViewPropsTips" style="clear:both;"></div></div>'+'<div class="userin-split"></div><div class="piece dnone"><div id="growupTask" class="mb10 dnone"><h3 class="fix"><a href="/uc/task" '+'target="_blank" class="mr8 icon-growup-task nslog:447"></a><a target="_blank" href="/uc/task" class="title nslog:447" '+'>\u6210\u957f\u4efb\u52a1</a></h3><ul id="growupTasks"></ul></div><div id="dailyTask" class="mb10 dnone"><h3 class="fix">'+'<a target="_blank" href="/uc/task#3" class="nslog:460 mr8 icon-common-task"></a><a target="_blank" '+'href="/uc/task#3" class="title nslog:460">\u65e5\u5e38\u4efb\u52a1</a></h3><ul id="dailyTasks"></ul></div>'+'<div id="hotWord" class="mb10 dnone"><div style="position:relative;"><h3 class="fix"><a href="http://www.baidu.com/search/baike/hothelp/" '+'target="_blank" id="hotHelp" class="mr8 icon-hotword"></a><a href="/uc/recommend" target="_blank" class="title nslog:224" '+'>\u70ed\u8bcd\u63a8\u9001</a><a href="javascript:void(0)" id="hotWordRefresh" class="hot-word-refresh" '+'></a></h3><ul id="hotWords"></ul><div id="hotHelpTip" class="tip">'+'<div id="hotHelpTipMain" class="tipMain"><p>\u7f16\u8f91\u70ed\u8bcd\u53ef\u83b7\u5f97\u989d\u5916\u7ecf\u9a8c\u503c</p></div></div><div id="completeTip" class="tip">'+'<div id="completeTipMain" class="tipMain"></div></div><div id="hotReasonTip" class="tip reason-tip">'+'<div id="hotReasonTipMain" class="tipMain"></div></div></div></div></div><div class="piece dnone">'+'<div id="encourage" class="mb10"><h3 class="fix"><a id="encourage_icon_href" href="#" class="mr8 fl">'+'</a><a href="#" id="encourage_title" class="title">'+'</a></h3><ul id="encouragements"></ul></div></div><div class="piece dnone"><div id="effort" class="mb10 dnone"><h3 class="fix">'+'<a href="/uc/effort" class="mr8 icon-lemma nslog:241" target="_blank"></a><a href="/uc/effort" class="title nslog:241" '+'target="_blank">\u8bcd\u6761\u52a8\u6001</a></h3><ul id="efforts"></ul></div></div><div class="gotouc-wrap">'+'<a href="/uc/home" target="_blank" class="gotouc nslog:227">\u8fdb\u5165\u6211\u7684\u767e\u79d1</a></div><div id="userTip" class="tip">'+'<div id="userTipMain" class="tipMain"><p>\u60a8\u76ee\u524d\u7684\u7b49\u7ea7\u662f<span id="userLevel"></span>\u7ea7<br />\u60a8\u76ee\u524d\u7684\u7ecf\u9a8c\u503c\u662f<span id="totalscore"></span>'+'\u70b9<br />\u60a8\u8fd8\u9700<span id="scorediff"></span>\u70b9\u7ecf\u9a8c\u503c\u5373\u53ef\u5347\u4e3a<span id="nextlevel"></span>\u7ea7<br /></p></div><div id="userTipArrow"></div>'+'<div id="userTipBack"></div></div></div>';I.g("hotWordRefresh").onclick=function(){E();D(this.href,225);};var P=I.json.parse(Q.responseText);bk.lemma.bottleMessage.run(P.base);document.getElementById("userPic").src=P.base.avatar;var A=30;if(P.base.uid){bk.shop.listMyProps();}var L=I.dom.query("a.throwbtl-link-view");if(P.base.uid&&L.length>0){var R=baikeViewInfo.id,M=baikeViewInfo.title;I.array.each(L,function(_){var C=I.dom.getAttr(_,"subLemmaId")||"",A=I.dom.getAttr(_,"subLemmaTitle")||"",B=I.dom.getAttr(_,"oriLemmaId")||R;if(B==C){C="";}_.onclick=function(){var E=I.dom.getAttr(this,"isViewCard")||"";D(location.href,E?3001:3002);return I.bottle.throwBottle({lemmaId:B,lemmaTitle:M,userId:P.base.uid,modType:1,subLemmaId:C,subLemmaTitle:A,link:_});};});}if(P.base.odp==2){A-=4;I.g("iconOdp").src="http://img.baidu.com/img/baike/userrole/odp"+P.base.odpLevel+".png";I.g("kedoutuanPic").style.display="inline-block";}if(P.base.admin>=2){A-=4;I.g("iconAdmin").src="http://img.baidu.com/img/baike/userrole/channeladmin"+P.base.adminLevel+".png";I.g("masterPic").style.display="inline-block";}if(P.base.vip){A-=4;I.g("iconVip").src="http://img.baidu.com/img/baike/userrole/core"+P.base.vipLevel+".png";I.g("corePic").style.display="inline-block";}var H=I.g("highVersionLink");I.g("highVersionNum").innerHTML=P.base.hqVerNum;var T=I.g("goodVersionLink");I.g("goodVersionNum").innerHTML=P.base.goodVerNum;if(P.base.hqVerNum>0){H.href="/uc/effort/#8";}if(P.base.goodVerNum>0){T.href="/uc/effort/#7";}if(window.curUser&&curUser.hasUname==false){var G=I.g("userTitle");G.innerHTML='<div class="newbie">\u767e\u79d1\u65b0\u4eba</div><a class="setname" href="javascript:bk.pass.fillUsername({nslogType: 3728});">\u8bbe\u7f6e\u7528\u6237\u540d</a>';G.className="fix";}else{I.g("userTitleLink").innerHTML=I.string.subByte(P.base.username,A);}I.g("userTitlePic").className="usertitle level"+P.base.level;I.g("userProcess").style.width=P.base.scorept+"%";if(P.hotword&&P.hotword.suc){words=P.hotword.data.words;setTimeout(function(){E();var _=I.g("hotWord");if(_){I.removeClass(_,"dnone");I.removeClass(_.parentNode,"dnone");}},0);var J=I.g("hotHelp"),C=I.g("hotHelpTip");I.on(J,"mouseover",function(){_(C);});I.on(J,"mouseout",O(C));}I.g("userInfoDiv").style.display="block";var U=I.g("userTip"),B=58,S=215;I.g("userTipArrow").style.left=Math.round(B+(S-B)*P.base.scorept/100)-4+"px";var N=I.g("userProcessBack");I.on(N,"mouseover",function(){_(U);});I.on(N,"mouseout",O(U));I.g("userLevel").innerHTML=P.base.level;I.g("totalscore").innerHTML=P.base.totalscore;I.g("scorediff").innerHTML=P.base.scorediff;I.g("nextlevel").innerHTML=P.base.nextlevel;F(P.levelTaskInfo);P.routineTasks&&K(P.routineTasks);}function E(){var D=words.length||0,G=2,E=[];while(E.length!=G){var R=Math.round(Math.random()*(D-1)),F=false,J;for(J=0;J<E.length;J++){if(E[J]==R){F=true;break;}}if(F){continue;}E.push(R);if(E.length==words.length){break;}}var Q="",C=[];for(J=0;J<4&&J<E.length;J++){var K=I.string.decodeHTML(words[E[J]].title),O=I.string.decodeHTML(words[E[J]].perfectpoints),A=I.string.decodeHTML(words[E[J]].reason),L=I.string.subByte(K,10);C.push("<li>");C.push('<a class="nslog:226" target="_blank" href="');C.push(words[E[J]].link+'"');C.push(' param1="'+I.string.encodeHTML(K).replace(/'/g,"&acute;")+'" param2="'+I.string.encodeHTML(O).replace(/'/g,"&acute;")+'">');C.push(I.string.encodeHTML(L));C.push("</a>");C.push("<span");C.push(' param="'+I.string.encodeHTML(A).replace(/'/g,"&acute;")+'"');C.push(">\uff1a");C.push(I.string.encodeHTML(I.string.subByte(A,32-I.string.getByteLength(L))));C.push("</span>");C.push("</li>");}var P=I.g("hotWords");if(P){P.innerHTML=C.join("");var _=P.getElementsByTagName("li");I.each(_,function(_,D){var A=_.getElementsByTagName("a")[0],C=_.getElementsByTagName("span")[0];I.on(A,"mouseover",function(){H(D,I.dom.getAttr(A,"param1"),I.dom.getAttr(A,"param2"));});I.on(A,"mouseout",function(){N();});I.on(C,"mouseover",function(){B(D,I.dom.getAttr(C,"param"));});I.on(C,"mouseout",function(){M();});});}}function _(_){if(R){clearTimeout(R);I.g("completeTip").style.display="none";}_.style.display="block";}function O(_){return function(){_.style.display="none";};}function M(){I.g("hotReasonTip").style.display="none";}var R;function N(){R=setTimeout(function(){I.g("completeTip").style.display="none";},1000);}function B(B,_){_=I.string.encodeHTML(_);if(R){clearTimeout(R);I.g("completeTip").style.display="none";}var A=I.g("hotReasonTip");I.g("hotReasonTipMain").innerHTML="<p>"+_+"</p>";A.style.top=50+B*20+"px";A.style.display="block";}function H(D,_,B){_=I.string.encodeHTML(_);B=I.string.encodeHTML(B);if(R){clearTimeout(R);}var C=I.g("completeTip");I.g("completeTipMain").innerHTML="<p>"+_+"</p><p><span>\u5b8c\u5584\u70b9\uff1a</span>"+B+"</p>";C.style.display="block";var A=C.scrollHeight;C.style.top=54+D*20-A-21+"px";}function F(F){if(!F){F={};F.taskStat=0;}else{if(F==9){return;}}var A=function(A){var _="";switch(parseInt(A)){case 1:_="\u73b0\u5728\u53bb\u5b8c\u6210";break;case 2:_="\u73b0\u5728\u53bb\u9886\u5956";break;default:_="\u6211\u8981\u53bb\u53c2\u52a0";break;}return _;},E=F.taskStat!=0,B=I.q("icon-growup-task","growupTask")[0],D=[],_=I.g("growupTask");if(!E){D.push('<li class="fix" style="margin-top:4px;"><span class="fl">\u52a0\u901f\u5347\u7ea7\uff0c\u5feb\u901f\u6210\u957f\u3002</span><a href="/uc/task#1" target="_blank" '+'class="act mr8">'+A(F.taskStat)+"&gt;&gt;</a></li>");I.g("growupTasks").innerHTML=D.join("");I.removeClass(_,"dnone");I.removeClass(_.parentNode,"dnone");B.title="\u6210\u957f\u4efb\u52a1";I.each(I.dom.query("#growupTask h3 a"),function(_){_.href+="#1";});return;}else{B.title=F.taskName;var C=-49;B.style.backgroundPosition=(C-(F.groupID-1)*16)+"px -122px";var G="/api/task/leveltask?groupID="+F.groupID+"&taskID="+F.taskID+"&action=getGroupTask&ref=lemma&r="+Math.random();I.ajax.get(G,function(C){if(C.responseText){var B=I.json.parse(C.responseText);B.taskProcess=(B.taskStat==2?1:B.taskProcess);D.push("<li>");D.push('<a class="mr4" target="_blank" href="/uc/task#2" onclick="nslog(this.href, 448)">');D.push(B.taskName);D.push("</a>");D.push('<span class="mr4">'+B.taskTaget+"</span>");D.push('<span class="mr4"><span class="icon-wealth mr4"></span>&nbsp;<span class="impt-word">+'+B.taskGold+"</span></span>");D.push("</li>");D.push('<li class="fix">');D.push('<a class="act mr8" href="/uc/task#2" target="_blank" onclick="nslog(this.href, 448)">'+A(B.taskStat)+"&gt;&gt;</a>");D.push('<div id="taskProgress" class="progressbar"></div>');D.push("</li>");I.g("growupTasks").innerHTML=D.join("");I.each(I.dom.query("#growupTask h3 a"),function(_){_.href+="#2";});I.removeClass(_,"dnone");I.removeClass(_.parentNode,"dnone");bk.usercenter.progressbar.init({text:"\u5b8c\u6210"+parseInt(B.taskProcess*100)+"%",selector:"taskProgress",process:B.taskProcess,textStyle:"color:#"+(B.taskStat==1?"e4ff00":"fff"),maxWidth:120,type:"simple"});}});}}function K(D){var A=D.faces.length,B=[];function H(){var _=false,B=(new Date()).getDate();if(A>0){var C;for(C=0,len=D.faces.length;C<len;++C){if(D.faces[C]==B){_=true;break;}}}return _;}function C(C){var A=[],F;for(F=0,len=C.length;F<len;++F){var B=C[F],_=B.taskType,D=B.taskStatus==1?"\u7ee7\u7eed\u53c2\u52a0":"\u53c2\u52a0\u4efb\u52a1",E=B.awardTxt?'\uff0c\u62ff<span class="mlr4 impt-word">'+B.awardTxt.replace("\u70b9\u4eae\u4eba\u7269","\u70b9\u4eae\u4efb\u52a1")+"</span>":"";A.push('<li><a target="_blank" href="'+B.entry.replace(/index\.html$/,"task.html")+'">'+(B.shortTitle||B.name)+"</a>\uff1a"+D+E+'<a href="'+B.entry.replace(/index\.html$/,"task.html")+'" target="_blank" class="goto"></a></li>');}return A.join("");}if(D.ongoingjoined.length==0&&D.recommend.length==0){return;}B.push('<li>\u672c\u6708\u7d2f\u8ba1\u70b9\u4eae<span class="impt-word mlr4">'+A+"</span>\u5929\u3002");if(!H()){B.push("\u4eca\u65e5\u7b11\u8138\u8fd8\u6ca1\u70b9\u4eae\u54e6\u3002");}B.push("</li>");var F=[];if(D.ongoingjoined&&D.ongoingjoined.length>0){var E=D.ongoingjoined[0];E.taskStatus=1;if(E.badgesToGain.length>0){E.awardTxt=E.badgesToGain[0].name;}F.push(E);}if(D.recommend&&D.recommend.length>0){var _=D.recommend[0];_.taskStatus=2;_.awardTxt=_.award[0];F.push(_);}B.push(C(F));var G=I.g("dailyTask");I.g("dailyTasks").innerHTML=B.join("");I.removeClass(G,"dnone");I.removeClass(G.parentNode,"dnone");}C.init=G;return C;},["tangram:base","common:nslog","common:event","/static/lemma/ui/view/split/split.js","common:message","common:util"]);F.module("/static/lemma/ui/view/split/split.js",function(D,B){var _=D("tangram:base"),E=D("/static/lemma/ui/view/sublemma/sublemmaList.js");function C(){var A="/api/polycheck?lemmaId="+baikeViewInfo.id+"&date="+new Date().getTime();_.ajax.get(A,function(C,A){if(A=="0"){var B=_.g("polyin");if(B&&!window.hasBeanTemplate){B.innerHTML="\u62c6\u5206\u8bcd\u6761";_.dom.addClass(B,"dividable-lemma");}var D=_.g("subSet");if(D){D.innerHTML='<em class="sprite b-ent-toc-action-setting"></em><span>\u8bbe\u7f6e</span>';if(!window.subset){E.showSetLemmaSubLink(D);window.subset=true;}}if(_.g("link-divider")){_.show("link-divider");}}});}function A(){_.ajax.post("/api/templatecheck","lemmaId="+baikeViewInfo.id,function(E,G){var A=_.json.parse(G);if(A){var F=A.provilege,D=A.subLemma,B=0;_.object.each(D,function(_,A){B++;});if(B==1){_.object.each(D,function(B,C){if(B==0&&F==0){var A=_.g("tmpdivide");if(A){A.innerHTML="\u6a21\u677f\u5316\u8bcd\u6761";A.style.display="";}}else{if(B==1){if(_.g("tmpdivide")){_.dom.remove("tmpdivide");}}else{if(B==2){if(_.g("tmpdivide")){_.dom.remove("tmpdivide");}window.hasBeanTemplate=true;}}}});}else{if(B>1){if(F==0){_.object.each(D,function(B,C){var A=_.g("tpl-"+C);if(B==0){if(A){A.getElementsByTagName("em")[0].innerHTML="\u6a21\u677f\u5316\u8be5\u4e49\u9879";A.style.display="";}}else{if(B==1){if(A){_.dom.remove(A);}}}});}}}}C();});}B=A;return B;},["tangram:base","/static/lemma/ui/view/sublemma/sublemmaList.js"]);F.module("/static/lemma/ui/view/horizonScroll/horizonScroll.js",function(D,C){var A=D("tangram:base"),B=D("common:nslog");function E(B,C){var _=A.browser.firefox?"DOMMouseScroll":"mousewheel";A.on(B,_,function(_){var B=this.scrollLeft,E=window.event||_,D=E.wheelDelta?E.wheelDelta/120:-E.detail/3;this.scrollLeft+=-D*C;if(B!=this.scrollLeft){A.event.preventDefault(_);}});}function _(_,C){if(!_||!_.length){return;}if(typeof _=="string"){_=A.dom.query(_);}C=C||60;if(_.length){for(var D=0,B=_.length;D<B;D++){E(_[D],C);}}else{E(_,C);}}C.init=_;return C;},["tangram:base","common:nslog"]);F.module("/static/lemma/ui/view/tipFor360/tipFor360.js",function(C,B){var _=C("tangram:base"),A=C("common:nslog");(function(){function C(){var B=document.createElement("div");B.id="TopTipHolder";B.style.height="36px";B.style.color="#BE4104";B.style.overflow="hidden";B.style.position="relative";B.style.marginBottom="10px";B.style.zIndex="200";B.innerHTML='<div id="TopTip" style="height:35px;line-height:35px;font:12px/35px arial;text-align:center;background:#FFFBCF;border-bottom:1px solid #F0ECCF;white-space:nowrap">\u767e\u5ea6\u63d0\u793a\uff1a\u60a8\u662f\u901a\u8fc7"\u5947\u864e\u641c\u7d22"\u8bbf\u95ee\u81f3\u767e\u5ea6\u767e\u79d1\uff0c\u5982\u5e0c\u671b\u83b7\u5f97\u5b8c\u6574\u4f18\u8d28\u7684\u767e\u5ea6\u641c\u7d22\u4f53\u9a8c\uff0c\u60a8\u53ef\u9009\u62e9\u628a<a href="###" id="setHomeView">\u767e\u5ea6\u8bbe\u4e3a\u4e3b\u9875</a>\u6216<a id="setPCView" href="###" target="_blank">\u628a\u767e\u5ea6\u6dfb\u52a0\u5230\u684c\u9762</a>\u3002</div><div id="TopTipClose" title="\u5173\u95ed" style="color:#666666;width:10px;font:12px arial;position:absolute;right:10px;top:10px;cursor:pointer">X</div>';document.body.insertBefore(B,document.body.firstChild);document.getElementById("TopTipClose").onclick=function(){_.dom.remove("TopTipHolder");var B=_.g("userbar");B.style.top="3px";_.cookie.set("tipFor360","show");A(window.location,5901);};_.on("setHomeView","click",function(B){_.event.stop(B);_.cookie.set("tipFor360","show");if(_.browser.ie){var C=_.g("setHomeView");C.style.behavior="url(#default#homepage)";C.setHomePage("http://www.baidu.com/");}else{window.open("http://www.baidu.com/cache/sethelp/index.html");}A(window.location,5902);});_.on("setPCView","click",function(B){_.event.stop(B);A(window.location,5903);_.cookie.set("tipFor360","show");window.open("http://www.baidu.com/search/baidukuijie_mp.html");});}C();A(window.location,5900);var B=_.g("userbar");while(!B){setTimeout(200);B=_.g("userbar");}if(B){B.style.top="45px";}})();return B;},["tangram:base","common:nslog"]);F.module("/static/lemma/ui/view/tipForIE6/tipForIE6.js",function(C,B){var _=C("tangram:base"),A=C("common:nslog");(function(){function B(){var B=document.createElement("div");B.id="TopTip";B.innerHTML='<DIV style="BORDER-RIGHT: #ffc973 1px solid; BORDER-TOP: #ffc973 1px solid; FONT-SIZE: 12px; Z-INDEX: 1000; LEFT: 50%; MARGIN: 0px 0px 0px -300px; BORDER-LEFT: #ffc973 1px solid; WIDTH: 600px; COLOR: rgb(102,102,102); PADDING-TOP: 2px; BORDER-BOTTOM: #ffc973 1px solid; FONT-FAMILY: \u5b8b\u4f53; POSITION: absolute; TOP: 0px; HEIGHT: 22px; BACKGROUND-COLOR: rgb(255,255,227); TEXT-ALIGN: center"><DIV class="tip_text" style="DISPLAY: inline; MARGIN-LEFT: auto; WIDTH: 620px; MARGIN-RIGHT: auto; HEIGHT: 25px"><SPAN class="tip_icon" style="VERTICAL-ALIGN: middle"><IMG style="WIDTH: 16px; HEIGHT: 16px" src="/static/lemma/css/img/tipForIE6/jingtan.png"/></SPAN>&nbsp;\u4e3a\u4e86\u66f4\u6d41\u7545\u7684\u6d4f\u89c8\u548c\u7f16\u8f91\u767e\u79d1\u8bcd\u6761\uff0c\u5efa\u8bae\u60a8\u5347\u7ea7\u5230\u66f4\u9ad8\u7248\u672c\u7684IE\u6d4f\u89c8\u5668<SPAN class="sug_browser">&nbsp;<A id="ontoie8" href="###" target="_blank"><IMG style="VERTICAL-ALIGN: middle; WIDTH: 18px; HEIGHT: 18px" src="/static/lemma/css/img/tipForIE6/ie8.png" />\u70b9\u51fb\u4e0b\u8f7d</A></SPAN>&nbsp;&nbsp;<SPAN id="close_ie6tip" title="\u5173\u95ed" style="BORDER-RIGHT: #e1cd85 1px solid; PADDING-RIGHT: 0px; BORDER-TOP: #e1cd85 1px solid; DISPLAY: inline-block; PADDING-LEFT: 0px; BACKGROUND: url(/static/lemma/css/img/tipForIE6/close_btn.png); PADDING-BOTTOM: 0px; MARGIN-LEFT: 5px; BORDER-LEFT: #e1cd85 1px solid; WIDTH: 12px; CURSOR: pointer; LINE-HEIGHT: 12px; PADDING-TOP: 0px; BORDER-BOTTOM: #e1cd85 1px solid; HEIGHT: 12px">&nbsp;</SPAN></DIV></DIV>';document.body.insertBefore(B,document.body.firstChild);_.on("close_ie6tip","click",function(A){_.dom.remove("TopTip");});_.on("ontoie8","click",function(B){_.event.stop(B);window.open("http://soft.baidu.com/pc/a_30276.html?fr=baike");A(window.location,5911);});A(window.location,5910);}B();})();return B;},["tangram:base","common:nslog"]);F.module("/static/lemma/ui/view/vertical/vertical.js",function(W,L){if(typeof W=="function"){var S=W("tangram:base");}if(!verticalData){return;}var P=[],N=[],T=[];if(verticalData.film&&verticalData.film.film){P=verticalData.film.film;}if(verticalData.tvplay&&verticalData.tvplay.tvplay){N=verticalData.tvplay.tvplay;}if(verticalData.album&&verticalData.album.album){T=verticalData.album.album;}if(!S.lang.isArray(P)){P=[P];}if(!S.lang.isArray(N)){N=[N];}if(!S.lang.isArray(T)){T=[T];}var J=function(_){_=_||{};this.sideNums=4;this.renderTo="";this.page=0;this.initPage=1;this.totalPage=0;this.el=null;this.preBtnEl=null;this.nextBtnEl=null;this.pageNumEls=null;this.guid=S.lang.guid();S.extend(this,_);this.render();},U=function(_){S.dom.show(_);S.dom.show(S.dom.next(_));},_=function(_){S.dom.hide(_);S.dom.hide(S.dom.next(_));};J.prototype={disablePageCls:"common-page-disable-num",btnCls:"common-page",disableBtnCls:"common-page-disable",pageSplit:'<span class="common-page-split">|</span>',pageNumTpl:'<a href="javascript:;" class="common-page common-pagenum" type="pagenum" page="#{toPage}">#{page}</a>',tpl:'<span id="#{id}">\t\t<a href="javascript:;" class="#{preBtnCls} common-prevnext" type="prev"><span>&lt;</span>&nbsp;\u4e0a\u4e00\u9875</a>        #{pages}\t\t<a href="javascript:;" class="#{nextBtnCls} common-prevnext" type="next">\u4e0b\u4e00\u9875&nbsp;<span>&gt;</span></a>        </span>',render:function(){var B=S.g(this.renderTo);if(!B){return;}var C=[];for(var D=1;D<=this.totalPage;D++){if(D==this.totalPage){C.push('<span class="nextDots">...</span>');}C.push(S.string.format(this.pageNumTpl,{page:D,toPage:D-1}));if(D==1){C.push('<span class="preDots">...</span>');}}var A=this.pageSplit,_=S.string.format(this.tpl,{id:this.guid,pages:A+C.join(A)+A,preBtnCls:this.btnCls+(this.page<=1?"-disable":""),nextBtnCls:this.btnCls+(this.page>=this.totalPage?"-disable":"")});B.innerHTML=_;this.initEl();this.initEvent();},onpagechanged:function(A){var B=A.page,C=A.oldPage;S.dom.removeClass(this.preBtnEl,this.disableBtnCls);S.dom.removeClass(this.nextBtnEl,this.disableBtnCls);if(B<=1){S.dom.addClass(this.preBtnEl,this.disableBtnCls);}if(B>=this.totalPage){S.dom.addClass(this.nextBtnEl,this.disableBtnCls);}if(this.pageNumEls[C-1]){S.dom.removeClass(this.pageNumEls[C-1],this.disablePageCls);}if(this.pageNumEls[B-1]){S.dom.addClass(this.pageNumEls[B-1],this.disablePageCls);}S.array.each(this.pageNumEls,function(A){_(A);});_(this.prevDotEl);_(this.nextDotEl);U(this.pageNumEls[0]);U(this.pageNumEls[this.totalPage-1]);var F=Math.max(B-this.sideNums,1),D=Math.min(B+this.sideNums-1,this.totalPage-1);if(B<this.sideNums+1){D=Math.min(D+(this.sideNums-B),this.totalPage-1);}else{if(this.totalPage-B<this.sideNums+1){F=Math.max(F-(this.sideNums+B-this.totalPage+1),1);}}for(var E=F;E<=D;E++){U(this.pageNumEls[E]);}if(F>1){U(this.prevDotEl);}if(D<this.totalPage-2){U(this.nextDotEl);}},initEl:function(){this.el=S.g(this.guid);this.preBtnEl=S.dom.query(".common-prevnext[type=prev]",this.el)[0];this.nextBtnEl=S.dom.query(".common-prevnext[type=next]",this.el)[0];this.pageNumEls=S.dom.query("a[type=pagenum]",this.el);this.prevDotEl=S.dom.query(".preDots",this.el)[0];this.nextDotEl=S.dom.query(".nextDots",this.el)[0];},turnToPage:function(_){if(_==this.page||_<1||_>this.totalPage){return;}var B=this.page;this.page=_;var A=this;A.dispatchEvent("pagechanged",{page:A.page,oldPage:B});},initEvent:function(){var _=this;S.on(this.preBtnEl,"click",function(){if(!S.dom.hasClass(this,_.disableBtnCls)){_.turnToPage(_.page-1);}});S.on(this.nextBtnEl,"click",function(){if(!S.dom.hasClass(this,_.disableBtnCls)){_.turnToPage(_.page+1);}});S.array.each(this.pageNumEls,function(A){S.on(A,"click",function(A){if(!S.dom.hasClass(this,_.disablePageCls)){var B=S.event.getTarget(A);_.turnToPage(parseInt(S.dom.getAttr(B,"page"))+1);}});});}};S.lang.inherits(J,S.lang.Class);var H=function(B){var _=[],A='<#{tag} href="#{link}" target="_blank">#{name}</#{tag}>';if(!S.lang.isArray(B)){B=[B];}S.array.each(B,function(B){B.tag=B.link?"a":"span";_.push(S.string.format(A,B));});return _.join("/");},D=function(B){var _=[],A='<#{tag} href="#{link}" target="_blank">#{name}</#{tag}>';if(!S.lang.isArray(B)){B=[B];}S.array.each(B,function(B){B.tag=B.link?"a":"span";_.push(S.string.format(A,B));});return _.join("/");},O='<li class="page#{page}"><div class="pic"><p><span class="album-list-border-1"></span><span class="album-list-border-2"></span>                <#{picTag} href="#{picLink}" target="_blank" class="album-overlay"><img src="#{pic}" width="74" height="105"></#{picTag}></p>            </div><dl class="content"><dt>            <h3><#{nameTag} href="#{nameLink}" target="_blank">#{name}</#{nameTag}><span>(#{time})</span></h3></dt><dd>                <span>\u9970\u6f14\uff1a#{role}</span>&nbsp;&nbsp;<span>\u5bfc\u6f14\uff1a#{directorstring}</span></dd><dd>                <span>\u6f14\u5458\uff1a#{actorstring}</span></dd><dd><p>#{intro}</p></dd></dl></li>',B='<li class="page#{page}"><div class="pic"><p> </p></div><dl class="content"></dl></li>',A='<div class="module-common-2-container pic-table">\t\t\t\t<ul class="clearfix" id="ent-film-ul">#{lis}</ul>\t\t\t\t<div id="ent-film-pager" class="common-page-container"></div>',K,X=function(I,F){var _=[],G=verticalData.film.pageSize,C=[],E=1,L=verticalData.film.len;S.array.each(I,function(A,_){var F=[],B=[];A.nameLink=A.name.link;A.name=A.name.name;A.picLink=A.pic.link;A.pic=A.pic.src;A.directorstring=H(A.directors.director);A.actorstring=D(A.actors.actor);A.page=Math.floor(_/G)+1;E=A.page;A.nameTag=A.nameLink?"a":"em";A.picTag=A.picLink?"a":"span";C.push(S.string.format(O,A));});var M=L%G==0?0:(G-(L%G))%2;for(var N=0;N<M;N++){C.push(S.string.format(B,{page:E}));}if(I.length){F.innerHTML=S.string.format(A,{lis:C.join("")});}K=new J({totalPage:L%G==0?L/G:Math.ceil(L/G),renderTo:"ent-film-pager"});S.on(K,"pagechanged",function(_){var A=_.page,B=_.oldPage;S.array.each(S.dom.query("li.page"+B,S.g("ent-film-ul")),function(_){S.dom.removeClass(_,"on");});S.array.each(S.dom.query("li.page"+A,S.g("ent-film-ul")),function(_){S.dom.addClass(_,"on");});});K.turnToPage(1);},E='<li class="page#{page}"><div class="pic"><p><span class="album-list-border-1"></span><span class="album-list-border-2"></span>                <#{picTag} href="#{picLink}" target="_blank" class="album-overlay"><img src="#{pic}" width="74" height="105"></#{picTag}></p>            </div><dl class="content"><dt>            <h3><#{nameTag} href="#{nameLink}" target="_blank">#{name}</#{nameTag}><span>(#{time})</span></h3></dt><dd>                <span>\u9970\u6f14\uff1a#{role}</span>&nbsp;&nbsp;<span>\u5bfc\u6f14\uff1a#{directorstring}</span></dd><dd>                <span>\u6f14\u5458\uff1a#{actorstring}</span></dd><dd><p>#{intro}</p></dd></dl></li>',Y='<li class="page#{page}"><div class="pic"><p> </p></div><dl class="content"></dl></li>',R='<div class="module-common-2-container pic-table">\t\t\t\t<ul class="clearfix" id="ent-tvplay-ul">#{lis}</ul>\t\t\t\t<div id="ent-tvplay-pager" class="common-page-container"></div>',Q,I=function(G,E){var _=[],F=verticalData.tvplay.pageSize,A=[],C=1,I=verticalData.tvplay.len;S.array.each(G,function(B,_){var G=[],E=[];B.nameLink=B.name.link;B.name=B.name.name;B.picLink=B.pic.link;B.pic=B.pic.src;B.directorstring=H(B.directors.director);B.actorstring=D(B.actors.actor);B.page=Math.floor(_/F)+1;B.nameTag=B.nameLink?"a":"em";B.picTag=B.picLink?"a":"span";C=B.page;A.push(S.string.format(O,B));});var K=I%F==0?0:(F-(I%F))%2;for(var L=0;L<K;L++){A.push(S.string.format(B,{page:C}));}if(G.length){E.innerHTML=S.string.format(R,{lis:A.join("")});}Q=new J({totalPage:I%F==0?I/F:Math.ceil(I/F),renderTo:"ent-tvplay-pager"});S.on(Q,"pagechanged",function(_){var A=_.page,B=_.oldPage;S.array.each(S.dom.query("li.page"+B,S.g("ent-tvplay-ul")),function(_){S.dom.removeClass(_,"on");});S.array.each(S.dom.query("li.page"+A,S.g("ent-tvplay-ul")),function(_){S.dom.addClass(_,"on");});});Q.turnToPage(1);},F='<li class="page#{page}">            <div class="pic">                <#{picTag} href="#{picLink}" target="_blank" class="album-overlay">                    <img src="#{pic}" width="105" height="105">                    <div class="img-border"></div>                </#{picTag}>            </div>            <div class="ablum-name"><#{nameTag} href="#{nameLink}" target="_blank">#{name}</#{nameTag}></div>            <div class="ablum-year">#{time}</div>        </li>',V='<li class="page#{page}"><div class="pic"><p> </p></div><dl class="content"></dl></li>',C='<div class="ablum-info"><div class="title clearfix"><h3>\u53d1\u884c\u4e13\u8f91</h3>\t\t\t\t<div><span id="album-curpage"></span>&nbsp;<span class="all-num">/&nbsp;<span id="album-totalpage"></span></span></div></div>    \t\t\t<ul class="clearfix pic-table" id="ent-album-ul">#{lis}</ul>\t\t\t\t<div id="ent-album-pager" class="common-page-container"></div></div>',G,M=function(H,D){var _=[],A=[],B=1,E=verticalData.album.pageSize,I=verticalData.album.len;S.array.each(H,function(C,_){var G=[],D=[];C.nameLink=C.name.link;C.name=C.name.name;C.picLink=C.pic.link;C.pic=C.pic.src;C.page=Math.floor(_/E)+1;C.nameTag=C.nameLink?"a":"span";C.picTag=C.picLink?"a":"span";B=C.page;A.push(S.string.format(F,C));});var K=I%E==0?0:(E-(I%E))%2;for(var L=0;L<K;L++){}if(H.length){D.innerHTML=S.string.format(C,{lis:A.join("")});}G=new J({totalPage:I%E==0?I/E:Math.ceil(I/E),renderTo:"ent-album-pager"});S.g("album-totalpage").innerHTML=G.totalPage;S.on(G,"pagechanged",function(_){var A=_.page,B=_.oldPage;S.g("album-curpage").innerHTML=A;S.array.each(S.dom.query("li.page"+B,S.g("ent-album-ul")),function(_){S.dom.removeClass(_,"on");});S.array.each(S.dom.query("li.page"+A,S.g("ent-album-ul")),function(_){S.dom.addClass(_,"on");});});G.turnToPage(1);};S.dom.ready(function(){if(!S.dom.hasClass(document.body,"entertainment")){return;}S.each(S.dom.query(".album-border2"),function(_){_.style.height=parseInt(_.style.height)-4+"px";_.style.width=parseInt(_.style.width)-4+"px";_.style.display="";});S.each(S.dom.query(".album-border3"),function(_){_.style.height=parseInt(_.style.height)-4+"px";_.style.width=parseInt(_.style.width)-4+"px";_.style.display="";});var B=S.g(baikeViewInfo.subLemmaId+"-canyandianying-div");if(verticalData.film.len>0&&B){var A=S.g(baikeViewInfo.subLemmaId+"-canyandianying-page");if(A){S.dom.hide(A);}X(P,S.g("ent-films-div"));}var C=S.g(baikeViewInfo.subLemmaId+"-canyandianshiju-div");if(verticalData.tvplay.len>0&&C){var _=S.g(baikeViewInfo.subLemmaId+"-canyandianshiju-page");if(_){S.dom.hide(_);}I(N,S.g("ent-tvplays-div"));}if(verticalData.album.len>0&&S.g("ent-albums-div")){M(T,S.g("ent-albums-div"));}});return L;},["tangram:base"]);